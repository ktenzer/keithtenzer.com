<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
<link rel="icon" href="/assets/main/me.png">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Red Hat Enterprise Virtualization (RHEV) Home Lab Configuration - Keith Tenzer’s Blog</title>
<meta name="description" content="Overview This post will cover installing Red Hat Enterprise Virtualization (RHEV) on an Intel NUC for the purpose of a lab environment. RHEV has two main components: RHEV-H and RHEV-M. RHEV-H Red Hat Enterprise Virtualization Hypervisor (RHEV-H) is a compact, full-featured virtualization platform built on Red Hat Enterprise Linux (RHEL). It has a very small footprint (less than 100MB) and is built from only a subset of RHEL components plus the Kernel-Based Virtual Machine (KVM). RHEV-M Red Hat Enterprise Virtualization Management (RHEV-M) is a virtual management console built on Red Hat Enterprise Linux (RHEL). It interacts with individual RHEV-H nodes using the Virtual Desktop Server Manager (VDSM). A VDSM agent is running on each of the RHEV-H nodes. RHEV-M allows administrators to manage multiple data centers and their network, compute and storage resources. In addition RHEV-M provides a central repository for storing virtual machines, disks, images and virtual machine snapshots.  Requirements  Intel NUC 34010WYKH Samsung SSD 840 EVO Crucial 8GB DDR3 1600 RAM (1.35V) RHEV Hypervisor RHEL 6.6  Install RHEV-H on Intel NUC In order to install a RHEV-H node on our Intel NUC (bare-metal) we will need to download RHEV-H ISO and UNetbootin. The UNetbootin software allows us to create a bootable USB with the RHEV-H image.  Once you have bootable USB with the RHEV-H image you can simply start the NUC, insert USB and go through the RHEV-H installation. Note: You may have to change the boot order in the BIOS of your Intel NUC or configure BIOS to boot from USB. Install RHEL-M In order to manage one or more RHEV-H nodes, a RHEL system running RHEV-M is required. You can use any 6.x version of RHEL for the RHEV-M system. As of the writing of this post RHEL 7 is not yet supported for RHEV-M. RHEL 7 will be supported with RHEV version 3.5. For the purpose of this lab I installed RHEL 6.6 as a Virtual Machine running under KVM on my PC. Note: Make sure to allocate at least 4GB of RAM to the RHEV-M system. Once RHEL 6.6 has been installed proceed with following steps:  Register subscription  subscription-manager register  Automatically attach subscriptions  subscription-manager attach --auto   OR  List available subscriptions  subscription-manager list --available  Attach a specific subscription (the pool id is listed in above command)    subscription-manager attach --pool=8a85f9814a7ea2ec014a813b19643ce5    Enable required channels    yum-config-manager --enable rhel-6-server-rpms     yum-config-manager --enable rhel-6-server-supplementary-rpms     yum-config-manager --enable rhel-6-server-rhevm-3.4-rpms     yum-config-manager --enable jb-eap-6-for-rhel-6-server-rpms  Install RHEV-M RPMs    yum update; yum install rhevm  Configure RHEV-M  engine-setup   After completing the installation you can go to following URL to connect to RHEV-M http://:80/ovirt-engine Configure RHEV-M Once the RHEV-H and RHEV-M systems are configured we can add the RHEV-H node in RHEV-M. The first step is to configure the oVirt engine from the RHEV-H node to point to the FQDN or IP of the RHEV-M host. Configure oVirt engine on RHEV-H host   ssh -l admin &lt;RHEV-H FQDN or IP&gt;    Add RHEV-H host in RHEV-M Connect to RHEV-M host through following URL: http://:80/ovirt-engine  Select the RHEV-H host and enter maintenance mode.   For the purpose of the lab we will use local storage. Since local storage is not shared across RHEV-H nodes a standalone data center will be configured that uses local storage.  Configure local storage domain     Attach ISO storage domain (configured when installing RHEV-M)   At this point we can start creating virtual machines, templates and various resource pools.If you have any questions regarding the Intel NUC, RHEV-H or RHEV-M setup please feel free to ask. In a future post I will cover API integration with RHEV-M (oVirt). Troubleshooting  Can&#39;t add local storage domain - This problem happens when you have configured RHEV-H host more than once in RHEV-M. Remove anything under /data/images/rhev on RHEV-H host. Accessing root shell on RHEV-H host - you need to connect via ssh as admin user and then press &quot;F2&quot; in the RHEV-H menu. ISOs not available when creating new VMs - The ISO storage domain must be attached to the RHEV-H host. Make sure hostname of RHEV-M host resolves from RHEV-H node otherwise add entry to /etc/hosts file.  (c) 2015 Keith Tenzer">


  <meta name="author" content="Keith Tenzer">
  
  <meta property="article:author" content="Keith Tenzer">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Keith Tenzer's Blog">
<meta property="og:title" content="Red Hat Enterprise Virtualization (RHEV) Home Lab Configuration">
<meta property="og:url" content="http://localhost:4000/rhev/red-hat-enterprise-virtualization-rhev-home-lab-configuration/">


  <meta property="og:description" content="Overview This post will cover installing Red Hat Enterprise Virtualization (RHEV) on an Intel NUC for the purpose of a lab environment. RHEV has two main components: RHEV-H and RHEV-M. RHEV-H Red Hat Enterprise Virtualization Hypervisor (RHEV-H) is a compact, full-featured virtualization platform built on Red Hat Enterprise Linux (RHEL). It has a very small footprint (less than 100MB) and is built from only a subset of RHEL components plus the Kernel-Based Virtual Machine (KVM). RHEV-M Red Hat Enterprise Virtualization Management (RHEV-M) is a virtual management console built on Red Hat Enterprise Linux (RHEL). It interacts with individual RHEV-H nodes using the Virtual Desktop Server Manager (VDSM). A VDSM agent is running on each of the RHEV-H nodes. RHEV-M allows administrators to manage multiple data centers and their network, compute and storage resources. In addition RHEV-M provides a central repository for storing virtual machines, disks, images and virtual machine snapshots.  Requirements  Intel NUC 34010WYKH Samsung SSD 840 EVO Crucial 8GB DDR3 1600 RAM (1.35V) RHEV Hypervisor RHEL 6.6  Install RHEV-H on Intel NUC In order to install a RHEV-H node on our Intel NUC (bare-metal) we will need to download RHEV-H ISO and UNetbootin. The UNetbootin software allows us to create a bootable USB with the RHEV-H image.  Once you have bootable USB with the RHEV-H image you can simply start the NUC, insert USB and go through the RHEV-H installation. Note: You may have to change the boot order in the BIOS of your Intel NUC or configure BIOS to boot from USB. Install RHEL-M In order to manage one or more RHEV-H nodes, a RHEL system running RHEV-M is required. You can use any 6.x version of RHEL for the RHEV-M system. As of the writing of this post RHEL 7 is not yet supported for RHEV-M. RHEL 7 will be supported with RHEV version 3.5. For the purpose of this lab I installed RHEL 6.6 as a Virtual Machine running under KVM on my PC. Note: Make sure to allocate at least 4GB of RAM to the RHEV-M system. Once RHEL 6.6 has been installed proceed with following steps:  Register subscription  subscription-manager register  Automatically attach subscriptions  subscription-manager attach --auto   OR  List available subscriptions  subscription-manager list --available  Attach a specific subscription (the pool id is listed in above command)    subscription-manager attach --pool=8a85f9814a7ea2ec014a813b19643ce5    Enable required channels    yum-config-manager --enable rhel-6-server-rpms     yum-config-manager --enable rhel-6-server-supplementary-rpms     yum-config-manager --enable rhel-6-server-rhevm-3.4-rpms     yum-config-manager --enable jb-eap-6-for-rhel-6-server-rpms  Install RHEV-M RPMs    yum update; yum install rhevm  Configure RHEV-M  engine-setup   After completing the installation you can go to following URL to connect to RHEV-M http://:80/ovirt-engine Configure RHEV-M Once the RHEV-H and RHEV-M systems are configured we can add the RHEV-H node in RHEV-M. The first step is to configure the oVirt engine from the RHEV-H node to point to the FQDN or IP of the RHEV-M host. Configure oVirt engine on RHEV-H host   ssh -l admin &lt;RHEV-H FQDN or IP&gt;    Add RHEV-H host in RHEV-M Connect to RHEV-M host through following URL: http://:80/ovirt-engine  Select the RHEV-H host and enter maintenance mode.   For the purpose of the lab we will use local storage. Since local storage is not shared across RHEV-H nodes a standalone data center will be configured that uses local storage.  Configure local storage domain     Attach ISO storage domain (configured when installing RHEV-M)   At this point we can start creating virtual machines, templates and various resource pools.If you have any questions regarding the Intel NUC, RHEV-H or RHEV-M setup please feel free to ask. In a future post I will cover API integration with RHEV-M (oVirt). Troubleshooting  Can&#39;t add local storage domain - This problem happens when you have configured RHEV-H host more than once in RHEV-M. Remove anything under /data/images/rhev on RHEV-H host. Accessing root shell on RHEV-H host - you need to connect via ssh as admin user and then press &quot;F2&quot; in the RHEV-H menu. ISOs not available when creating new VMs - The ISO storage domain must be attached to the RHEV-H host. Make sure hostname of RHEV-M host resolves from RHEV-H node otherwise add entry to /etc/hosts file.  (c) 2015 Keith Tenzer">





  <meta name="twitter:site" content="@keithtenzer">
  <meta name="twitter:title" content="Red Hat Enterprise Virtualization (RHEV) Home Lab Configuration">
  <meta name="twitter:description" content="Overview This post will cover installing Red Hat Enterprise Virtualization (RHEV) on an Intel NUC for the purpose of a lab environment. RHEV has two main components: RHEV-H and RHEV-M. RHEV-H Red Hat Enterprise Virtualization Hypervisor (RHEV-H) is a compact, full-featured virtualization platform built on Red Hat Enterprise Linux (RHEL). It has a very small footprint (less than 100MB) and is built from only a subset of RHEL components plus the Kernel-Based Virtual Machine (KVM). RHEV-M Red Hat Enterprise Virtualization Management (RHEV-M) is a virtual management console built on Red Hat Enterprise Linux (RHEL). It interacts with individual RHEV-H nodes using the Virtual Desktop Server Manager (VDSM). A VDSM agent is running on each of the RHEV-H nodes. RHEV-M allows administrators to manage multiple data centers and their network, compute and storage resources. In addition RHEV-M provides a central repository for storing virtual machines, disks, images and virtual machine snapshots.  Requirements  Intel NUC 34010WYKH Samsung SSD 840 EVO Crucial 8GB DDR3 1600 RAM (1.35V) RHEV Hypervisor RHEL 6.6  Install RHEV-H on Intel NUC In order to install a RHEV-H node on our Intel NUC (bare-metal) we will need to download RHEV-H ISO and UNetbootin. The UNetbootin software allows us to create a bootable USB with the RHEV-H image.  Once you have bootable USB with the RHEV-H image you can simply start the NUC, insert USB and go through the RHEV-H installation. Note: You may have to change the boot order in the BIOS of your Intel NUC or configure BIOS to boot from USB. Install RHEL-M In order to manage one or more RHEV-H nodes, a RHEL system running RHEV-M is required. You can use any 6.x version of RHEL for the RHEV-M system. As of the writing of this post RHEL 7 is not yet supported for RHEV-M. RHEL 7 will be supported with RHEV version 3.5. For the purpose of this lab I installed RHEL 6.6 as a Virtual Machine running under KVM on my PC. Note: Make sure to allocate at least 4GB of RAM to the RHEV-M system. Once RHEL 6.6 has been installed proceed with following steps:  Register subscription  subscription-manager register  Automatically attach subscriptions  subscription-manager attach --auto   OR  List available subscriptions  subscription-manager list --available  Attach a specific subscription (the pool id is listed in above command)    subscription-manager attach --pool=8a85f9814a7ea2ec014a813b19643ce5    Enable required channels    yum-config-manager --enable rhel-6-server-rpms     yum-config-manager --enable rhel-6-server-supplementary-rpms     yum-config-manager --enable rhel-6-server-rhevm-3.4-rpms     yum-config-manager --enable jb-eap-6-for-rhel-6-server-rpms  Install RHEV-M RPMs    yum update; yum install rhevm  Configure RHEV-M  engine-setup   After completing the installation you can go to following URL to connect to RHEV-M http://:80/ovirt-engine Configure RHEV-M Once the RHEV-H and RHEV-M systems are configured we can add the RHEV-H node in RHEV-M. The first step is to configure the oVirt engine from the RHEV-H node to point to the FQDN or IP of the RHEV-M host. Configure oVirt engine on RHEV-H host   ssh -l admin &lt;RHEV-H FQDN or IP&gt;    Add RHEV-H host in RHEV-M Connect to RHEV-M host through following URL: http://:80/ovirt-engine  Select the RHEV-H host and enter maintenance mode.   For the purpose of the lab we will use local storage. Since local storage is not shared across RHEV-H nodes a standalone data center will be configured that uses local storage.  Configure local storage domain     Attach ISO storage domain (configured when installing RHEV-M)   At this point we can start creating virtual machines, templates and various resource pools.If you have any questions regarding the Intel NUC, RHEV-H or RHEV-M setup please feel free to ask. In a future post I will cover API integration with RHEV-M (oVirt). Troubleshooting  Can&#39;t add local storage domain - This problem happens when you have configured RHEV-H host more than once in RHEV-M. Remove anything under /data/images/rhev on RHEV-H host. Accessing root shell on RHEV-H host - you need to connect via ssh as admin user and then press &quot;F2&quot; in the RHEV-H menu. ISOs not available when creating new VMs - The ISO storage domain must be attached to the RHEV-H host. Make sure hostname of RHEV-M host resolves from RHEV-H node otherwise add entry to /etc/hosts file.  (c) 2015 Keith Tenzer">
  <meta name="twitter:url" content="http://localhost:4000/rhev/red-hat-enterprise-virtualization-rhev-home-lab-configuration/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2015-01-05T00:00:00-08:00">





  

  


<link rel="canonical" href="http://localhost:4000/rhev/red-hat-enterprise-virtualization-rhev-home-lab-configuration/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Keith Tenzer",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Keith Tenzer's Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Keith Tenzer's Blog
          <span class="site-subtitle">Cloud Computing and Code</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/index.html">About</a>
            </li><li class="masthead__menu-item">
              <a href="/conferences-and-events/index.html">Conferences and Events</a>
            </li><li class="masthead__menu-item">
              <a href="/videos/index.html">Videos</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#rhev" itemprop="item"><span itemprop="name">Rhev</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Red Hat Enterprise Virtualization (RHEV) Home Lab Configuration</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/main/me.png" alt="Keith Tenzer" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Keith Tenzer</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Principal Solutions Architect at Red Hat</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Los Angeles, CA</span>
        </li>
      

      
        
          
        
          
        
          
            <li><a href="https://twitter.com/keithtenzer" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
        
          
            <li><a href="https://github.com/ktenzer" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Red Hat Enterprise Virtualization (RHEV) Home Lab Configuration">
    <meta itemprop="description" content="OverviewThis post will cover installing Red Hat Enterprise Virtualization (RHEV) on an Intel NUC for the purpose of a lab environment. RHEV has two main components: RHEV-H and RHEV-M.RHEV-HRed Hat Enterprise Virtualization Hypervisor (RHEV-H) is a compact, full-featured virtualization platform built on Red Hat Enterprise Linux (RHEL). It has a very small footprint (less than 100MB) and is built from only a subset of RHEL components plus the Kernel-Based Virtual Machine (KVM).RHEV-MRed Hat Enterprise Virtualization Management (RHEV-M) is a virtual management console built on Red Hat Enterprise Linux (RHEL). It interacts with individual RHEV-H nodes using the Virtual Desktop Server Manager (VDSM). A VDSM agent is running on each of the RHEV-H nodes. RHEV-M allows administrators to manage multiple data centers and their network, compute and storage resources. In addition RHEV-M provides a central repository for storing virtual machines, disks, images and virtual machine snapshots.RequirementsIntel NUC 34010WYKHSamsung SSD 840 EVOCrucial 8GB DDR3 1600 RAM (1.35V)RHEV HypervisorRHEL 6.6Install RHEV-H on Intel NUCIn order to install a RHEV-H node on our Intel NUC (bare-metal) we will need to download RHEV-H ISO and UNetbootin. The UNetbootin software allows us to create a bootable USB with the RHEV-H image.Once you have bootable USB with the RHEV-H image you can simply start the NUC, insert USB and go through the RHEV-H installation.Note: You may have to change the boot order in the BIOS of your Intel NUC or configure BIOS to boot from USB.Install RHEL-MIn order to manage one or more RHEV-H nodes, a RHEL system running RHEV-M is required. You can use any 6.x version of RHEL for the RHEV-M system. As of the writing of this post RHEL 7 is not yet supported for RHEV-M. RHEL 7 will be supported with RHEV version 3.5. For the purpose of this lab I installed RHEL 6.6 as a Virtual Machine running under KVM on my PC.Note: Make sure to allocate at least 4GB of RAM to the RHEV-M system.Once RHEL 6.6 has been installed proceed with following steps:Register subscriptionsubscription-manager registerAutomatically attach subscriptionssubscription-manager attach --autoORList available subscriptionssubscription-manager list --availableAttach a specific subscription (the pool id is listed in above command)subscription-manager attach --pool=8a85f9814a7ea2ec014a813b19643ce5Enable required channelsyum-config-manager --enable rhel-6-server-rpmsyum-config-manager --enable rhel-6-server-supplementary-rpmsyum-config-manager --enable rhel-6-server-rhevm-3.4-rpmsyum-config-manager --enable jb-eap-6-for-rhel-6-server-rpmsInstall RHEV-M RPMsyum update; yum install rhevmConfigure RHEV-Mengine-setupAfter completing the installation you can go to following URL to connect to RHEV-M http://:80/ovirt-engineConfigure RHEV-MOnce the RHEV-H and RHEV-M systems are configured we can add the RHEV-H node in RHEV-M. The first step is to configure the oVirt engine from the RHEV-H node to point to the FQDN or IP of the RHEV-M host.Configure oVirt engine on RHEV-H hostssh -l admin &lt;RHEV-H FQDN or IP&gt; Add RHEV-H host in RHEV-MConnect to RHEV-M host through following URL: http://:80/ovirt-engineSelect the RHEV-H host and enter maintenance mode.For the purpose of the lab we will use local storage. Since local storage is not shared across RHEV-H nodes a standalone data center will be configured that uses local storage.Configure local storage domain Attach ISO storage domain (configured when installing RHEV-M)At this point we can start creating virtual machines, templates and various resource pools.If you have any questions regarding the Intel NUC, RHEV-H or RHEV-M setup please feel free to ask. In a future post I will cover API integration with RHEV-M (oVirt).TroubleshootingCan&#39;t add local storage domain - This problem happens when you have configured RHEV-H host more than once in RHEV-M. Remove anything under /data/images/rhev on RHEV-H host.Accessing root shell on RHEV-H host - you need to connect via ssh as admin user and then press &quot;F2&quot; in the RHEV-H menu.ISOs not available when creating new VMs - The ISO storage domain must be attached to the RHEV-H host. Make sure hostname of RHEV-M host resolves from RHEV-H node otherwise add entry to /etc/hosts file.(c) 2015 Keith Tenzer">
    <meta itemprop="datePublished" content="2015-01-05T00:00:00-08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Red Hat Enterprise Virtualization (RHEV) Home Lab Configuration
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2015-01-05T00:00:00-08:00">January 5, 2015</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <h3>Overview</h3>
<p>This post will cover installing Red Hat Enterprise Virtualization (RHEV) on an Intel NUC for the purpose of a lab environment. RHEV has two main components: RHEV-H and RHEV-M.<!--more--></p>
<h4>RHEV-H</h4>
<p>Red Hat Enterprise Virtualization Hypervisor (RHEV-H) is a compact, full-featured virtualization platform built on Red Hat Enterprise Linux (RHEL). It has a very small footprint (less than 100MB) and is built from only a subset of RHEL components plus the Kernel-Based Virtual Machine (KVM).</p>
<h4>RHEV-M</h4>
<p>Red Hat Enterprise Virtualization Management (RHEV-M) is a virtual management console built on Red Hat Enterprise Linux (RHEL). It interacts with individual RHEV-H nodes using the Virtual Desktop Server Manager (VDSM). A VDSM agent is running on each of the RHEV-H nodes. RHEV-M allows administrators to manage multiple data centers and their network, compute and storage resources. In addition RHEV-M provides a central repository for storing virtual machines, disks, images and virtual machine snapshots.</p>
<p><a href="https://keithtenzer.files.wordpress.com/2015/01/rhev_architecture2.png"><img class=" wp-image-370 aligncenter" src="/assets/2015/01/rhev_architecture2.png?w=300" alt="RHEV_Architecture" width="711" height="339" /></a></p>
<h3>Requirements</h3>
<ul>
<li><a href="http://www.amazon.com/Intel-BOXD54250WYKH1-Core-i5-4250U-Graphics/dp/B00HZDLNWO/ref=sr_1_fkmr0_1?ie=UTF8&amp;qid=1419520848&amp;sr=8-1-fkmr0&amp;keywords=Intel+NUC+34010WYKH">Intel NUC 34010WYKH</a></li>
<li><a href="http://www.amazon.com/Samsung-250GB-2-5-Inch-Internal-MZ-7TE250BW/dp/B00E3W1726/ref=sr_1_1?ie=UTF8&amp;qid=1419520871&amp;sr=8-1&amp;keywords=Samsung+SSD+840+EVO">Samsung SSD 840 EVO</a></li>
<li><a href="http://www.amazon.com/Crucial-PC3-12800-204-Pin-Notebook-CT102464BF160B/dp/B006YG8X9Y/ref=sr_1_sc_1?ie=UTF8&amp;qid=1419520904&amp;sr=8-1-spell&amp;keywords=Cruicial+8GB+DDR3+1600">Crucial 8GB DDR3 1600 RAM (1.35V)</a></li>
<li><a href="https://access.redhat.com/products/red-hat-enterprise-virtualization/get-started">RHEV Hypervisor</a></li>
<li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/downloads#?&amp;portal_product=Red+Hat+Enterprise+Linux&amp;portal_product_variant=Red+Hat+Enterprise+Linux+Server&amp;portal_product_minor=6.6&amp;portal_product_architecture=x86_64">RHEL 6.6</a></li>
</ul>
<h3>Install RHEV-H on Intel NUC</h3>
<p>In order to install a RHEV-H node on our Intel NUC (bare-metal) we will need to download <a href="https://access.redhat.com/products/red-hat-enterprise-virtualization/get-started">RHEV-H</a> ISO and <a href="http://unetbootin.sourceforge.net/">UNetbootin</a>. The UNetbootin software allows us to create a bootable USB with the RHEV-H image.</p>
<p><a href="https://keithtenzer.files.wordpress.com/2014/12/unetbootin.jpg"><img class=" wp-image-287 aligncenter" src="/assets/2015/01/unetbootin.jpg?w=300" alt="unetbootin" width="661" height="456" /></a></p>
<p>Once you have bootable USB with the RHEV-H image you can simply start the NUC, insert USB and go through the RHEV-H installation.</p>
<p>Note: You may have to change the boot order in the BIOS of your Intel NUC or configure BIOS to boot from USB.</p>
<h3>Install RHEL-M</h3>
<p>In order to manage one or more RHEV-H nodes, a RHEL system running RHEV-M is required. You can use any 6.x version of RHEL for the RHEV-M system. As of the writing of this post RHEL 7 is not yet supported for RHEV-M. RHEL 7 will be supported with RHEV version 3.5. For the purpose of this lab I installed RHEL 6.6 as a Virtual Machine running under <a href="http://www.linux-kvm.org/page/Main_Page">KVM </a>on my PC.</p>
<p>Note: Make sure to allocate at least 4GB of RAM to the RHEV-M system.</p>
<p>Once RHEL 6.6 has been installed proceed with following steps:</p>
<ul>
<li>Register subscription</li>
<li>
<pre>subscription-manager register</pre>
</li>
<li>Automatically attach subscriptions</li>
<li>
<pre>subscription-manager attach --auto</pre>
</li>
</ul>
<p style="text-align:center;">OR</p>
<ul>
<li style="text-align:left;">List available subscriptions</li>
<li>
<pre>subscription-manager list --available</pre>
</li>
<li>Attach a specific subscription (the pool id is listed in above command)</li>
</ul>
<ul>
<li>
<pre>subscription-manager attach --pool=8a85f9814a7ea2ec014a813b19643ce5</pre>
</li>
</ul>
<ul>
<li>Enable required channels</li>
</ul>
<ul>
<li>
<pre>yum-config-manager --enable rhel-6-server-rpms</pre>
</li>
</ul>
<ul>
<li>
<pre>yum-config-manager --enable rhel-6-server-supplementary-rpms</pre>
</li>
</ul>
<ul>
<li>
<pre>yum-config-manager --enable rhel-6-server-rhevm-3.4-rpms</pre>
</li>
</ul>
<ul>
<li>
<pre>yum-config-manager --enable jb-eap-6-for-rhel-6-server-rpms</pre>
</li>
<li>Install RHEV-M RPMs</li>
</ul>
<ul>
<li>
<pre>yum update; yum install rhevm</pre>
</li>
<li>Configure RHEV-M</li>
<li>
<pre>engine-setup</pre>
</li>
</ul>
<p>After completing the installation you can go to following URL to connect to RHEV-M http://:80/ovirt-engine</p>
<h3>Configure RHEV-M</h3>
<p>Once the RHEV-H and RHEV-M systems are configured we can add the RHEV-H node in RHEV-M. The first step is to configure the oVirt engine from the RHEV-H node to point to the FQDN or IP of the RHEV-M host.</p>
<h4>Configure oVirt engine on RHEV-H host</h4>
<ul>
<li>
<pre>ssh -l admin &lt;RHEV-H FQDN or IP&gt;</pre>
</li>
</ul>
<h4><a href="https://keithtenzer.files.wordpress.com/2014/12/rhev_ovirt_engine.jpg"><img class=" wp-image-291 aligncenter" src="/assets/2015/01/rhev_ovirt_engine.jpg?w=300" alt="RHEV_ovirt_engine" width="718" height="230" /></a> Add RHEV-H host in RHEV-M</h4>
<p>Connect to RHEV-M host through following URL: http://:80/ovirt-engine</p>
<ul>
<li>Select the RHEV-H host and enter maintenance mode.</li>
</ul>
<p><a href="https://keithtenzer.files.wordpress.com/2014/12/rhev_maintenance.jpg"><img class=" wp-image-290 aligncenter" src="/assets/2015/01/rhev_maintenance.jpg?w=300" alt="RHEV_maintenance" width="705" height="214" /></a></p>
<p>For the purpose of the lab we will use local storage. Since local storage is not shared across RHEV-H nodes a standalone data center will be configured that uses local storage.</p>
<ul>
<li>Configure local storage domain</li>
</ul>
<p><a href="https://keithtenzer.files.wordpress.com/2014/12/rhev_local_storage.jpg"><img class=" wp-image-292 aligncenter" src="/assets/2015/01/rhev_local_storage.jpg?w=300" alt="RHEV_local_storage" width="711" height="486" /></a></p>
<ul>
<li> Attach ISO storage domain (configured when installing RHEV-M)</li>
</ul>
<p><a href="https://keithtenzer.files.wordpress.com/2014/12/rhev_attach_iso_storage.jpg"><img class=" wp-image-294 aligncenter" src="/assets/2015/01/rhev_attach_iso_storage.jpg?w=300" alt="RHEV_attach_ISO_storage" width="717" height="270" /></a></p>
<p>At this point we can start creating virtual machines, templates and various resource pools.If you have any questions regarding the Intel NUC, RHEV-H or RHEV-M setup please feel free to ask. In a future post I will cover API integration with RHEV-M (oVirt).</p>
<h4>Troubleshooting</h4>
<ul>
<li><strong>Can't add local storage domain</strong> - This problem happens when you have configured RHEV-H host more than once in RHEV-M. Remove anything under /data/images/rhev on RHEV-H host.</li>
<li><strong>Accessing root shell on RHEV-H host</strong> - you need to connect via ssh as admin user and then press "F2" in the RHEV-H menu.</li>
<li><strong>ISOs not available when creating new VMs</strong> - The ISO storage domain must be attached to the RHEV-H host. Make sure hostname of RHEV-M host resolves from RHEV-H node otherwise add entry to /etc/hosts file.</li>
</ul>
<p>(c) 2015 Keith Tenzer</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#kvm" class="page__taxonomy-item" rel="tag">KVM</a><span class="sep">, </span>
    
      <a href="/tags/#linux" class="page__taxonomy-item" rel="tag">Linux</a><span class="sep">, </span>
    
      <a href="/tags/#red-hat" class="page__taxonomy-item" rel="tag">Red Hat</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#rhev" class="page__taxonomy-item" rel="tag">RHEV</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2015-01-05T00:00:00-08:00">January 5, 2015</time></p>


      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=keithtenzer&text=Red+Hat+Enterprise+Virtualization+%28RHEV%29+Home+Lab+Configuration%20http%3A%2F%2Flocalhost%3A4000%2Frhev%2Fred-hat-enterprise-virtualization-rhev-home-lab-configuration%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Frhev%2Fred-hat-enterprise-virtualization-rhev-home-lab-configuration%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Frhev%2Fred-hat-enterprise-virtualization-rhev-home-lab-configuration%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/kvm/kvm-development-guide/" class="pagination--pager" title="KVM Development Guide
">Previous</a>
    
    
      <a href="/rhev/red-hat-enterprise-virtualization-management-rhev-m-overview-apis-and-code-examples/" class="pagination--pager" title="Red Hat Enterprise Virtualization Management (RHEV-M) - Overview, APIs and Code Examples
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/openshift/building-ansible-operators-1-2-3/" rel="permalink">Building Ansible Operators 1-2-3
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-12-03T00:00:00-08:00">December 3, 2021</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          10 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Overview
In this article we will go step by step in build a Kubernetes Operator using Ansible and the Operator Framework. Operators provide ability to not on...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/openshift/openshift-service-mesh-getting-started-guide/" rel="permalink">OpenShift Service Mesh Getting Started Guide
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-04-27T00:00:00-07:00">April 27, 2021</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          11 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">






Overview
In this article we will explore the OpenShift Service Mesh and deploy a demo application to better understand the various concepts. First you...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/openshift/openshift-4-aws-ipi-installation-getting-started-guide/" rel="permalink">OpenShift 4 AWS IPI Installation Getting Started Guide
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-01-18T00:00:00-08:00">January 18, 2021</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">


Happy new year as this will be the first post of 2021! 2020 was obviously a challenging year, my hope is I will have more time to devote to blogging in 20...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ansible/windows-automation-with-ansible-getting-started-guide/" rel="permalink">Windows Automation with Ansible: Getting Started Guide
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2020-05-19T00:00:00-07:00">May 19, 2020</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          14 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
Overview
In this article we will focus on how to get started with automation of windows using Ansible. Specifically we will look at installing 3rd party sof...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/keithtenzer"" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
      
        
          <li><a href="https://github.com/ktenzer" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Keith Tenzer. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
