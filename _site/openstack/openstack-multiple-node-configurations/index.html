<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
<link rel="icon" href="/assets/main/me.png">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>OpenStack Multiple Node Configurations - Keith Tenzer’s Blog</title>
<meta name="description" content="Node Types OpenStack can be deployed in a single-node or multi-node configuration. For the purpose of this post I am going to assume you understand OpenStack basics and have at least done a basic installation on a single-node using RDO or another installer.  If not please refer to this post which covers the basics. OpenStack is of course a culmination of loosely coupled projects that define services. A node is nothing more than a grouping of OpenStack services that run on bare-metal, in a container or virtual machine. The purpose of a node is to provide horizontal scaling and HA. There are four possible node types in OpenStack: controller, compute, network and storage. Controller Node The controller node is the control plane for the OpenStack environment. The control pane handles identity (keystone), dashboard (Horizon), telemetry (ceilometer), orchestration (heat) and network server service (neutron). Compute Node The compute node runs a hypervisor (KVM, ESX, Hyper-V or XenServer). The compute node handles compute service (nova), telemetry (ceilometer) and network Open vSwitch agent service (neutron). Network Node The network node runs networking services (neutron). It runs the neutron services for L3, metadata, DHCP and Open vSwitch. The network node handles all networking between other nodes as well as tenant networking and routing. It provides services such as DHCP and floating IPs that allow instances to connect to public networks. Neutron sits on top of Open vSwitch using either the ml2 or openvswitch plugin. Using Open vSwitch Neutron builds three network bridges: br-int, br-tun and br-ex. The br-int bridge connects all instances. The br-tun bridge connects instances to the physical NIC of the hypervisor. The br-ex bridge connects instances to external (public) networks using floating IPs. Both the br-tun and br-int bridges are visible on compute and network nodes. The br-ex bridge is only visible on network nodes. Storage Node The storage node runs storage services. It handles image service (glance), block storage (cinder), object storage (swift) and in the future shared file storage (manila). Typically a storage node would run one type of storage service: object, block or file. Glance should run on nodes providing storage services for images (Cinder or Swift). Glance typically benefits from running on same node as its backing storage service. NetApp for example provides a storage backend that allows images to be cloned using the NetApp storage backend instead of the network. Multi-node Configurations While single-node configurations are acceptable for small environments, testing or POCs most production environments will require a multi-node configuration for various reasons. As mentioned multi-node configurations group similar OpenStack services and provide scalability as well as the possibility for high availability. One of the great things about OpenStack is the architecture. Every service is decoupled and all communication between services is done through RESTful API endpoints. This is the model architecture for cloud. The advantages are that we have tremendous flexibility in how to build a multi-node configuration. While a few standards have emerged there are many more possible variations and in the end we are not stuck to a rigid deployment model. The standards for deploying multi-node OpenStack are as a two-node, three-node or four-node configuration. Two-node OpenStack Configuration The two-node configuration has a controller and compute node. Here we can easily scale-out compute nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using Pacemaker. Below is an illustration of a two-node OpenStack configuration:  Three-node OpenStack Configuration The three-node configuration has a controller, compute and network node. Here we can easily scale-out compute or network nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using Pacemaker. In addition we could also setup active / passive configuration for network node to achieve HA and horizontal scaling depending on resource requirements. Below is an illustration of a three-node OpenStack configuration:  Four-node OpenStack Configuration The four-node configuration has a controller, compute, network and storage node. Here we can easily scale-out compute, network and storage nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using Pacemaker. In addition we could also setup active / passive configuration for network and storage nodes to achieve HA as well as horizontal scaling depending on resource requirements. Below is an illustration of a four-node OpenStack configuration:  Three-node OpenStack Installation Before we start the installation we will need to provision three nodes running RHEL (Red Hat Enterprise Linux). The nodes can be bare-metal, containers or virtual machines. In my environment I created three virtual machines running RHEL 7 under RHEV 3.4 (Red Hat Enterprise Virtualization). If you are interested in how to setup RHEV you can get more information here. Below are the steps to deploy a three-node OpenStack installation using RHEL 7 and latest Red Hat OpenStack distribution: Steps to preform on each node  Install RHEL 7 and enable one NIC interface (eth0) Register subscription  #subscription-manager register    List available subscriptions  #subscription-manager list --available  Attach a specific subscription (the pool id is listed in above command)    #subscription-manager attach --pool=8a85f9814a7ea2ec014a813b19433cc8  Clear existing repositories and enable correct ones to grab latest Red Hat OpenStack distro    #subscription-manager repos --disable=*     #subscription-manager repos --enable=rhel-7-server-rpms   #subscription-manager repos --enable=rhel-7-server-optional-rpms   #subscription-manager repos --enable=rhel-7-server-openstack-5.0-rpms   or   #subscription-manager repos --enable=rhel-7-server-openstack-6.0-rpms  Install required packages    #yum install -y yum-plugin-priorities yum-utils     #yum-config-manager --setopt=”rhel-7-server-openstack-5.0-rpms.priority=1” --enable rhel-7-server-openstack-5.0-rpms   or   #yum-config-manager --setopt=”rhel-7-server-openstack-6.0-rpms.priority=1” --enable rhel-7-server-openstack-6.0-rpms   #yum update -y     #yum install -y openstack-packstack    Setup hostname    #hostname ostack-ctr.openstack     #vi /etc/hostname   ostack-ctr.openstack     #vi /etc/sysconfig/network     HOSTNAME=ostack-ctr.openstack GATEWAY=192.168.2.1    Setup hosts file if DNS resolution is not configured    #vi /etc/hosts     127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 192.168.2.205 ostack-ctr ostack-ctr.openstack 192.168.2.206 ostack-cmp ostack-cmp.openstack 192.168.2.207 ostack-net ostack-net.openstack  Configure eth0 network interface    #vi /etc/sysconfig/network-scripts/ifcfg-eth0     TYPE=Ethernet BOOTPROTO=none DEFROUTE=yes IPV4_FAILURE_FATAL=no IPV6INIT=no IPV6_AUTOCONF=yes IPV6_DEFROUTE=yes IPV6_PEERDNS=yes IPV6_PEERROUTES=yes IPV6_FAILURE_FATAL=no NAME=eth0 UUID=6c53462f-f735-48c0-ae85-c0ec61a53688 ONBOOT=yes HWADDR=00:1A:4A:DE:DB:CC IPADDR0=192.168.2.205 PREFIX0=24 GATEWAY0=192.168.2.1 DNS1=192.168.2.1 NM_CONTROLLED=no   Note: ensure you set the MAC address (HWADDR) correctly. You can find the MAC address using the &quot;ip a&quot; command.  Disable Network Manager    #systemctl disable NetworkManager  reboot node  Steps to perform on controller node  Generate the default answers file  #packstack --gen-answer-file=/root/answer_file.txt  Update the following in answers file    CONFIG_CONTROLLER_HOSTS=192.168.2.205 CONFIG_COMPUTE_HOSTS=192.168.2.206 CONFIG_NETWORK_HOSTS=192.168.2.207 CONFIG_STORAGE_HOST=192.168.2.205 CONFIG_HORIZON_SSL=y CONFIG_PROVISION_DEMO=n  Install OpenStack using packstack answers file    #packstack --answer-file=/root/answer_file.txt   Network Node Configuration In order to connect a existing physical network, eth0 must be added as a port to the Open vSwitch br-ex bridge. The below steps should be preformed on the network node:  Update network config for eth0  #vi /etc/sysconfig/network-scripts/ifcfg-eth0 DEVICE=eth0 HWADDR=00:1A:4A:DE:DB:9C TYPE=OVSPort DEVICETYPE=ovs OVS_BRIDGE=br-ex ONBOOT=yes   Note: ensure that the MAC address (HWADDR) is correct  Update network config for br-ex  #vi /etc/sysconfig/network-scripts/ifcfg-br-ex     DEVICE=br-ex DEVICETYPE=ovs TYPE=OVSBridge BOOTPROTO=static IPADDR=192.168.2.207 NETMASK=255.255.255.0 GATEWAY=192.168.2.1 DNS1=192.168.2.1 ONBOOT=yes    Add eth0 to br-ex bridge and restart networking    #ovs-vsctl add-port br-ex eth0 ; systemctl restart network.service    Verify Open vSwitch configuration on network node (eth0 should be connected to br-ex)  #ovs-vsctl show 348cc676-f177-4ee3-a522-8f02aeb4dcd6  Bridge br-int     fail_mode: secure     Port br-int        Interface br-int           type: internal  Bridge br-tun     Port patch-int        Interface patch-int           type: patch           options: {peer=patch-tun}     Port &quot;gre-1&quot;        Interface &quot;gre-1&quot;           type: gre           options: {in_key=flow, local_ip=&quot;192.168.2.207&quot;, out_key=flow, remote_ip=&quot;192.168.2.206&quot;}     Port br-tun        Interface br-tun           type: internal  Bridge br-ex     Port &quot;eth0&quot;        Interface &quot;eth0&quot;     Port br-ex        Interface br-ex        type: internal  ovs_version: &quot;2.1.3&quot;   Networking Configuration Public networks allow instances to connect to existing external networks. This is achieved by allocating floating IPs  from existing external networks that are shared across tenants. Private networks are tenant networks that provide complete isolation to all instances within a tenant. Create Private Network   #neutron net-create private     #neutron subnet-create private 10.0.0.0/24 --name private_subnet   Create Public Network   #neutron net-create public --shared --router:external=True     #neutron subnet-create public 192.168.2.0/24 --name public_subnet --enable_dhcp=False --allocation-pool start=192.168.2.220,end=192.168.2.240 --gateway=192.168.2.1   Create Router   #neutron router-create router1     #neutron router-interface-add router1 private     #neutron router-gateway-set router1 public   Note: make sure you source the /root/keystonerc_admin file otherwise neutron commands will not work Once we have created the private and public networks we should see the below network topology. In addition we can connect instances to just the private network or both by allocating a floating IP.  Summary This guide covered the very basics of multi-node OpenStack deployments and networking. From here hopefully you should be able to deploy your own OpenStack multi-node configurations using Red Hat RDO. I really recommend setting up multi-node environments, it is the best way to understand and learn how the different OpenStack projects interact with one another. In addition if you would like to do everything from scratch without RDO or another distro you can follow the complete manual guide here. I hope this guide has been interesting and useful. I always appreciate commends and feedback so please leave some. Happy Stacking! (c) 2015 Keith Tenzer">


  <meta name="author" content="Keith Tenzer">
  
  <meta property="article:author" content="Keith Tenzer">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Keith Tenzer's Blog">
<meta property="og:title" content="OpenStack Multiple Node Configurations">
<meta property="og:url" content="http://localhost:4000/openstack/openstack-multiple-node-configurations/">


  <meta property="og:description" content="Node Types OpenStack can be deployed in a single-node or multi-node configuration. For the purpose of this post I am going to assume you understand OpenStack basics and have at least done a basic installation on a single-node using RDO or another installer.  If not please refer to this post which covers the basics. OpenStack is of course a culmination of loosely coupled projects that define services. A node is nothing more than a grouping of OpenStack services that run on bare-metal, in a container or virtual machine. The purpose of a node is to provide horizontal scaling and HA. There are four possible node types in OpenStack: controller, compute, network and storage. Controller Node The controller node is the control plane for the OpenStack environment. The control pane handles identity (keystone), dashboard (Horizon), telemetry (ceilometer), orchestration (heat) and network server service (neutron). Compute Node The compute node runs a hypervisor (KVM, ESX, Hyper-V or XenServer). The compute node handles compute service (nova), telemetry (ceilometer) and network Open vSwitch agent service (neutron). Network Node The network node runs networking services (neutron). It runs the neutron services for L3, metadata, DHCP and Open vSwitch. The network node handles all networking between other nodes as well as tenant networking and routing. It provides services such as DHCP and floating IPs that allow instances to connect to public networks. Neutron sits on top of Open vSwitch using either the ml2 or openvswitch plugin. Using Open vSwitch Neutron builds three network bridges: br-int, br-tun and br-ex. The br-int bridge connects all instances. The br-tun bridge connects instances to the physical NIC of the hypervisor. The br-ex bridge connects instances to external (public) networks using floating IPs. Both the br-tun and br-int bridges are visible on compute and network nodes. The br-ex bridge is only visible on network nodes. Storage Node The storage node runs storage services. It handles image service (glance), block storage (cinder), object storage (swift) and in the future shared file storage (manila). Typically a storage node would run one type of storage service: object, block or file. Glance should run on nodes providing storage services for images (Cinder or Swift). Glance typically benefits from running on same node as its backing storage service. NetApp for example provides a storage backend that allows images to be cloned using the NetApp storage backend instead of the network. Multi-node Configurations While single-node configurations are acceptable for small environments, testing or POCs most production environments will require a multi-node configuration for various reasons. As mentioned multi-node configurations group similar OpenStack services and provide scalability as well as the possibility for high availability. One of the great things about OpenStack is the architecture. Every service is decoupled and all communication between services is done through RESTful API endpoints. This is the model architecture for cloud. The advantages are that we have tremendous flexibility in how to build a multi-node configuration. While a few standards have emerged there are many more possible variations and in the end we are not stuck to a rigid deployment model. The standards for deploying multi-node OpenStack are as a two-node, three-node or four-node configuration. Two-node OpenStack Configuration The two-node configuration has a controller and compute node. Here we can easily scale-out compute nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using Pacemaker. Below is an illustration of a two-node OpenStack configuration:  Three-node OpenStack Configuration The three-node configuration has a controller, compute and network node. Here we can easily scale-out compute or network nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using Pacemaker. In addition we could also setup active / passive configuration for network node to achieve HA and horizontal scaling depending on resource requirements. Below is an illustration of a three-node OpenStack configuration:  Four-node OpenStack Configuration The four-node configuration has a controller, compute, network and storage node. Here we can easily scale-out compute, network and storage nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using Pacemaker. In addition we could also setup active / passive configuration for network and storage nodes to achieve HA as well as horizontal scaling depending on resource requirements. Below is an illustration of a four-node OpenStack configuration:  Three-node OpenStack Installation Before we start the installation we will need to provision three nodes running RHEL (Red Hat Enterprise Linux). The nodes can be bare-metal, containers or virtual machines. In my environment I created three virtual machines running RHEL 7 under RHEV 3.4 (Red Hat Enterprise Virtualization). If you are interested in how to setup RHEV you can get more information here. Below are the steps to deploy a three-node OpenStack installation using RHEL 7 and latest Red Hat OpenStack distribution: Steps to preform on each node  Install RHEL 7 and enable one NIC interface (eth0) Register subscription  #subscription-manager register    List available subscriptions  #subscription-manager list --available  Attach a specific subscription (the pool id is listed in above command)    #subscription-manager attach --pool=8a85f9814a7ea2ec014a813b19433cc8  Clear existing repositories and enable correct ones to grab latest Red Hat OpenStack distro    #subscription-manager repos --disable=*     #subscription-manager repos --enable=rhel-7-server-rpms   #subscription-manager repos --enable=rhel-7-server-optional-rpms   #subscription-manager repos --enable=rhel-7-server-openstack-5.0-rpms   or   #subscription-manager repos --enable=rhel-7-server-openstack-6.0-rpms  Install required packages    #yum install -y yum-plugin-priorities yum-utils     #yum-config-manager --setopt=”rhel-7-server-openstack-5.0-rpms.priority=1” --enable rhel-7-server-openstack-5.0-rpms   or   #yum-config-manager --setopt=”rhel-7-server-openstack-6.0-rpms.priority=1” --enable rhel-7-server-openstack-6.0-rpms   #yum update -y     #yum install -y openstack-packstack    Setup hostname    #hostname ostack-ctr.openstack     #vi /etc/hostname   ostack-ctr.openstack     #vi /etc/sysconfig/network     HOSTNAME=ostack-ctr.openstack GATEWAY=192.168.2.1    Setup hosts file if DNS resolution is not configured    #vi /etc/hosts     127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 192.168.2.205 ostack-ctr ostack-ctr.openstack 192.168.2.206 ostack-cmp ostack-cmp.openstack 192.168.2.207 ostack-net ostack-net.openstack  Configure eth0 network interface    #vi /etc/sysconfig/network-scripts/ifcfg-eth0     TYPE=Ethernet BOOTPROTO=none DEFROUTE=yes IPV4_FAILURE_FATAL=no IPV6INIT=no IPV6_AUTOCONF=yes IPV6_DEFROUTE=yes IPV6_PEERDNS=yes IPV6_PEERROUTES=yes IPV6_FAILURE_FATAL=no NAME=eth0 UUID=6c53462f-f735-48c0-ae85-c0ec61a53688 ONBOOT=yes HWADDR=00:1A:4A:DE:DB:CC IPADDR0=192.168.2.205 PREFIX0=24 GATEWAY0=192.168.2.1 DNS1=192.168.2.1 NM_CONTROLLED=no   Note: ensure you set the MAC address (HWADDR) correctly. You can find the MAC address using the &quot;ip a&quot; command.  Disable Network Manager    #systemctl disable NetworkManager  reboot node  Steps to perform on controller node  Generate the default answers file  #packstack --gen-answer-file=/root/answer_file.txt  Update the following in answers file    CONFIG_CONTROLLER_HOSTS=192.168.2.205 CONFIG_COMPUTE_HOSTS=192.168.2.206 CONFIG_NETWORK_HOSTS=192.168.2.207 CONFIG_STORAGE_HOST=192.168.2.205 CONFIG_HORIZON_SSL=y CONFIG_PROVISION_DEMO=n  Install OpenStack using packstack answers file    #packstack --answer-file=/root/answer_file.txt   Network Node Configuration In order to connect a existing physical network, eth0 must be added as a port to the Open vSwitch br-ex bridge. The below steps should be preformed on the network node:  Update network config for eth0  #vi /etc/sysconfig/network-scripts/ifcfg-eth0 DEVICE=eth0 HWADDR=00:1A:4A:DE:DB:9C TYPE=OVSPort DEVICETYPE=ovs OVS_BRIDGE=br-ex ONBOOT=yes   Note: ensure that the MAC address (HWADDR) is correct  Update network config for br-ex  #vi /etc/sysconfig/network-scripts/ifcfg-br-ex     DEVICE=br-ex DEVICETYPE=ovs TYPE=OVSBridge BOOTPROTO=static IPADDR=192.168.2.207 NETMASK=255.255.255.0 GATEWAY=192.168.2.1 DNS1=192.168.2.1 ONBOOT=yes    Add eth0 to br-ex bridge and restart networking    #ovs-vsctl add-port br-ex eth0 ; systemctl restart network.service    Verify Open vSwitch configuration on network node (eth0 should be connected to br-ex)  #ovs-vsctl show 348cc676-f177-4ee3-a522-8f02aeb4dcd6  Bridge br-int     fail_mode: secure     Port br-int        Interface br-int           type: internal  Bridge br-tun     Port patch-int        Interface patch-int           type: patch           options: {peer=patch-tun}     Port &quot;gre-1&quot;        Interface &quot;gre-1&quot;           type: gre           options: {in_key=flow, local_ip=&quot;192.168.2.207&quot;, out_key=flow, remote_ip=&quot;192.168.2.206&quot;}     Port br-tun        Interface br-tun           type: internal  Bridge br-ex     Port &quot;eth0&quot;        Interface &quot;eth0&quot;     Port br-ex        Interface br-ex        type: internal  ovs_version: &quot;2.1.3&quot;   Networking Configuration Public networks allow instances to connect to existing external networks. This is achieved by allocating floating IPs  from existing external networks that are shared across tenants. Private networks are tenant networks that provide complete isolation to all instances within a tenant. Create Private Network   #neutron net-create private     #neutron subnet-create private 10.0.0.0/24 --name private_subnet   Create Public Network   #neutron net-create public --shared --router:external=True     #neutron subnet-create public 192.168.2.0/24 --name public_subnet --enable_dhcp=False --allocation-pool start=192.168.2.220,end=192.168.2.240 --gateway=192.168.2.1   Create Router   #neutron router-create router1     #neutron router-interface-add router1 private     #neutron router-gateway-set router1 public   Note: make sure you source the /root/keystonerc_admin file otherwise neutron commands will not work Once we have created the private and public networks we should see the below network topology. In addition we can connect instances to just the private network or both by allocating a floating IP.  Summary This guide covered the very basics of multi-node OpenStack deployments and networking. From here hopefully you should be able to deploy your own OpenStack multi-node configurations using Red Hat RDO. I really recommend setting up multi-node environments, it is the best way to understand and learn how the different OpenStack projects interact with one another. In addition if you would like to do everything from scratch without RDO or another distro you can follow the complete manual guide here. I hope this guide has been interesting and useful. I always appreciate commends and feedback so please leave some. Happy Stacking! (c) 2015 Keith Tenzer">





  <meta name="twitter:site" content="@keithtenzer">
  <meta name="twitter:title" content="OpenStack Multiple Node Configurations">
  <meta name="twitter:description" content="Node Types OpenStack can be deployed in a single-node or multi-node configuration. For the purpose of this post I am going to assume you understand OpenStack basics and have at least done a basic installation on a single-node using RDO or another installer.  If not please refer to this post which covers the basics. OpenStack is of course a culmination of loosely coupled projects that define services. A node is nothing more than a grouping of OpenStack services that run on bare-metal, in a container or virtual machine. The purpose of a node is to provide horizontal scaling and HA. There are four possible node types in OpenStack: controller, compute, network and storage. Controller Node The controller node is the control plane for the OpenStack environment. The control pane handles identity (keystone), dashboard (Horizon), telemetry (ceilometer), orchestration (heat) and network server service (neutron). Compute Node The compute node runs a hypervisor (KVM, ESX, Hyper-V or XenServer). The compute node handles compute service (nova), telemetry (ceilometer) and network Open vSwitch agent service (neutron). Network Node The network node runs networking services (neutron). It runs the neutron services for L3, metadata, DHCP and Open vSwitch. The network node handles all networking between other nodes as well as tenant networking and routing. It provides services such as DHCP and floating IPs that allow instances to connect to public networks. Neutron sits on top of Open vSwitch using either the ml2 or openvswitch plugin. Using Open vSwitch Neutron builds three network bridges: br-int, br-tun and br-ex. The br-int bridge connects all instances. The br-tun bridge connects instances to the physical NIC of the hypervisor. The br-ex bridge connects instances to external (public) networks using floating IPs. Both the br-tun and br-int bridges are visible on compute and network nodes. The br-ex bridge is only visible on network nodes. Storage Node The storage node runs storage services. It handles image service (glance), block storage (cinder), object storage (swift) and in the future shared file storage (manila). Typically a storage node would run one type of storage service: object, block or file. Glance should run on nodes providing storage services for images (Cinder or Swift). Glance typically benefits from running on same node as its backing storage service. NetApp for example provides a storage backend that allows images to be cloned using the NetApp storage backend instead of the network. Multi-node Configurations While single-node configurations are acceptable for small environments, testing or POCs most production environments will require a multi-node configuration for various reasons. As mentioned multi-node configurations group similar OpenStack services and provide scalability as well as the possibility for high availability. One of the great things about OpenStack is the architecture. Every service is decoupled and all communication between services is done through RESTful API endpoints. This is the model architecture for cloud. The advantages are that we have tremendous flexibility in how to build a multi-node configuration. While a few standards have emerged there are many more possible variations and in the end we are not stuck to a rigid deployment model. The standards for deploying multi-node OpenStack are as a two-node, three-node or four-node configuration. Two-node OpenStack Configuration The two-node configuration has a controller and compute node. Here we can easily scale-out compute nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using Pacemaker. Below is an illustration of a two-node OpenStack configuration:  Three-node OpenStack Configuration The three-node configuration has a controller, compute and network node. Here we can easily scale-out compute or network nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using Pacemaker. In addition we could also setup active / passive configuration for network node to achieve HA and horizontal scaling depending on resource requirements. Below is an illustration of a three-node OpenStack configuration:  Four-node OpenStack Configuration The four-node configuration has a controller, compute, network and storage node. Here we can easily scale-out compute, network and storage nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using Pacemaker. In addition we could also setup active / passive configuration for network and storage nodes to achieve HA as well as horizontal scaling depending on resource requirements. Below is an illustration of a four-node OpenStack configuration:  Three-node OpenStack Installation Before we start the installation we will need to provision three nodes running RHEL (Red Hat Enterprise Linux). The nodes can be bare-metal, containers or virtual machines. In my environment I created three virtual machines running RHEL 7 under RHEV 3.4 (Red Hat Enterprise Virtualization). If you are interested in how to setup RHEV you can get more information here. Below are the steps to deploy a three-node OpenStack installation using RHEL 7 and latest Red Hat OpenStack distribution: Steps to preform on each node  Install RHEL 7 and enable one NIC interface (eth0) Register subscription  #subscription-manager register    List available subscriptions  #subscription-manager list --available  Attach a specific subscription (the pool id is listed in above command)    #subscription-manager attach --pool=8a85f9814a7ea2ec014a813b19433cc8  Clear existing repositories and enable correct ones to grab latest Red Hat OpenStack distro    #subscription-manager repos --disable=*     #subscription-manager repos --enable=rhel-7-server-rpms   #subscription-manager repos --enable=rhel-7-server-optional-rpms   #subscription-manager repos --enable=rhel-7-server-openstack-5.0-rpms   or   #subscription-manager repos --enable=rhel-7-server-openstack-6.0-rpms  Install required packages    #yum install -y yum-plugin-priorities yum-utils     #yum-config-manager --setopt=”rhel-7-server-openstack-5.0-rpms.priority=1” --enable rhel-7-server-openstack-5.0-rpms   or   #yum-config-manager --setopt=”rhel-7-server-openstack-6.0-rpms.priority=1” --enable rhel-7-server-openstack-6.0-rpms   #yum update -y     #yum install -y openstack-packstack    Setup hostname    #hostname ostack-ctr.openstack     #vi /etc/hostname   ostack-ctr.openstack     #vi /etc/sysconfig/network     HOSTNAME=ostack-ctr.openstack GATEWAY=192.168.2.1    Setup hosts file if DNS resolution is not configured    #vi /etc/hosts     127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 192.168.2.205 ostack-ctr ostack-ctr.openstack 192.168.2.206 ostack-cmp ostack-cmp.openstack 192.168.2.207 ostack-net ostack-net.openstack  Configure eth0 network interface    #vi /etc/sysconfig/network-scripts/ifcfg-eth0     TYPE=Ethernet BOOTPROTO=none DEFROUTE=yes IPV4_FAILURE_FATAL=no IPV6INIT=no IPV6_AUTOCONF=yes IPV6_DEFROUTE=yes IPV6_PEERDNS=yes IPV6_PEERROUTES=yes IPV6_FAILURE_FATAL=no NAME=eth0 UUID=6c53462f-f735-48c0-ae85-c0ec61a53688 ONBOOT=yes HWADDR=00:1A:4A:DE:DB:CC IPADDR0=192.168.2.205 PREFIX0=24 GATEWAY0=192.168.2.1 DNS1=192.168.2.1 NM_CONTROLLED=no   Note: ensure you set the MAC address (HWADDR) correctly. You can find the MAC address using the &quot;ip a&quot; command.  Disable Network Manager    #systemctl disable NetworkManager  reboot node  Steps to perform on controller node  Generate the default answers file  #packstack --gen-answer-file=/root/answer_file.txt  Update the following in answers file    CONFIG_CONTROLLER_HOSTS=192.168.2.205 CONFIG_COMPUTE_HOSTS=192.168.2.206 CONFIG_NETWORK_HOSTS=192.168.2.207 CONFIG_STORAGE_HOST=192.168.2.205 CONFIG_HORIZON_SSL=y CONFIG_PROVISION_DEMO=n  Install OpenStack using packstack answers file    #packstack --answer-file=/root/answer_file.txt   Network Node Configuration In order to connect a existing physical network, eth0 must be added as a port to the Open vSwitch br-ex bridge. The below steps should be preformed on the network node:  Update network config for eth0  #vi /etc/sysconfig/network-scripts/ifcfg-eth0 DEVICE=eth0 HWADDR=00:1A:4A:DE:DB:9C TYPE=OVSPort DEVICETYPE=ovs OVS_BRIDGE=br-ex ONBOOT=yes   Note: ensure that the MAC address (HWADDR) is correct  Update network config for br-ex  #vi /etc/sysconfig/network-scripts/ifcfg-br-ex     DEVICE=br-ex DEVICETYPE=ovs TYPE=OVSBridge BOOTPROTO=static IPADDR=192.168.2.207 NETMASK=255.255.255.0 GATEWAY=192.168.2.1 DNS1=192.168.2.1 ONBOOT=yes    Add eth0 to br-ex bridge and restart networking    #ovs-vsctl add-port br-ex eth0 ; systemctl restart network.service    Verify Open vSwitch configuration on network node (eth0 should be connected to br-ex)  #ovs-vsctl show 348cc676-f177-4ee3-a522-8f02aeb4dcd6  Bridge br-int     fail_mode: secure     Port br-int        Interface br-int           type: internal  Bridge br-tun     Port patch-int        Interface patch-int           type: patch           options: {peer=patch-tun}     Port &quot;gre-1&quot;        Interface &quot;gre-1&quot;           type: gre           options: {in_key=flow, local_ip=&quot;192.168.2.207&quot;, out_key=flow, remote_ip=&quot;192.168.2.206&quot;}     Port br-tun        Interface br-tun           type: internal  Bridge br-ex     Port &quot;eth0&quot;        Interface &quot;eth0&quot;     Port br-ex        Interface br-ex        type: internal  ovs_version: &quot;2.1.3&quot;   Networking Configuration Public networks allow instances to connect to existing external networks. This is achieved by allocating floating IPs  from existing external networks that are shared across tenants. Private networks are tenant networks that provide complete isolation to all instances within a tenant. Create Private Network   #neutron net-create private     #neutron subnet-create private 10.0.0.0/24 --name private_subnet   Create Public Network   #neutron net-create public --shared --router:external=True     #neutron subnet-create public 192.168.2.0/24 --name public_subnet --enable_dhcp=False --allocation-pool start=192.168.2.220,end=192.168.2.240 --gateway=192.168.2.1   Create Router   #neutron router-create router1     #neutron router-interface-add router1 private     #neutron router-gateway-set router1 public   Note: make sure you source the /root/keystonerc_admin file otherwise neutron commands will not work Once we have created the private and public networks we should see the below network topology. In addition we can connect instances to just the private network or both by allocating a floating IP.  Summary This guide covered the very basics of multi-node OpenStack deployments and networking. From here hopefully you should be able to deploy your own OpenStack multi-node configurations using Red Hat RDO. I really recommend setting up multi-node environments, it is the best way to understand and learn how the different OpenStack projects interact with one another. In addition if you would like to do everything from scratch without RDO or another distro you can follow the complete manual guide here. I hope this guide has been interesting and useful. I always appreciate commends and feedback so please leave some. Happy Stacking! (c) 2015 Keith Tenzer">
  <meta name="twitter:url" content="http://localhost:4000/openstack/openstack-multiple-node-configurations/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2015-01-26T00:00:00-08:00">





  

  


<link rel="canonical" href="http://localhost:4000/openstack/openstack-multiple-node-configurations/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Keith Tenzer",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Keith Tenzer's Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Keith Tenzer's Blog
          <span class="site-subtitle">Cloud Computing and Code</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/index.html">About</a>
            </li><li class="masthead__menu-item">
              <a href="/conferences-and-events/index.html">Conferences and Events</a>
            </li><li class="masthead__menu-item">
              <a href="/videos/index.html">Videos</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#openstack" itemprop="item"><span itemprop="name">Openstack</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">OpenStack Multiple Node Configurations</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/main/me.png" alt="Keith Tenzer" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Keith Tenzer</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Solutions Architect at Temporal</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Los Angeles, CA</span>
        </li>
      

      
        
          
        
          
        
          
            <li><a href="https://twitter.com/keithtenzer" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
        
          
            <li><a href="https://github.com/ktenzer" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="OpenStack Multiple Node Configurations">
    <meta itemprop="description" content="Node TypesOpenStack can be deployed in a single-node or multi-node configuration. For the purpose of this post I am going to assume you understand OpenStack basics and have at least done a basic installation on a single-node using RDO or another installer.  If not please refer to this post which covers the basics. OpenStack is of course a culmination of loosely coupled projects that define services. A node is nothing more than a grouping of OpenStack services that run on bare-metal, in a container or virtual machine. The purpose of a node is to provide horizontal scaling and HA. There are four possible node types in OpenStack: controller, compute, network and storage.Controller NodeThe controller node is the control plane for the OpenStack environment. The control pane handles identity (keystone), dashboard (Horizon), telemetry (ceilometer), orchestration (heat) and network server service (neutron).Compute NodeThe compute node runs a hypervisor (KVM, ESX, Hyper-V or XenServer). The compute node handles compute service (nova), telemetry (ceilometer) and network Open vSwitch agent service (neutron).Network NodeThe network node runs networking services (neutron). It runs the neutron services for L3, metadata, DHCP and Open vSwitch. The network node handles all networking between other nodes as well as tenant networking and routing. It provides services such as DHCP and floating IPs that allow instances to connect to public networks. Neutron sits on top of Open vSwitch using either the ml2 or openvswitch plugin. Using Open vSwitch Neutron builds three network bridges: br-int, br-tun and br-ex. The br-int bridge connects all instances. The br-tun bridge connects instances to the physical NIC of the hypervisor. The br-ex bridge connects instances to external (public) networks using floating IPs. Both the br-tun and br-int bridges are visible on compute and network nodes. The br-ex bridge is only visible on network nodes.Storage NodeThe storage node runs storage services. It handles image service (glance), block storage (cinder), object storage (swift) and in the future shared file storage (manila). Typically a storage node would run one type of storage service: object, block or file. Glance should run on nodes providing storage services for images (Cinder or Swift). Glance typically benefits from running on same node as its backing storage service. NetApp for example provides a storage backend that allows images to be cloned using the NetApp storage backend instead of the network.Multi-node ConfigurationsWhile single-node configurations are acceptable for small environments, testing or POCs most production environments will require a multi-node configuration for various reasons. As mentioned multi-node configurations group similar OpenStack services and provide scalability as well as the possibility for high availability. One of the great things about OpenStack is the architecture. Every service is decoupled and all communication between services is done through RESTful API endpoints. This is the model architecture for cloud. The advantages are that we have tremendous flexibility in how to build a multi-node configuration. While a few standards have emerged there are many more possible variations and in the end we are not stuck to a rigid deployment model. The standards for deploying multi-node OpenStack are as a two-node, three-node or four-node configuration.Two-node OpenStack ConfigurationThe two-node configuration has a controller and compute node. Here we can easily scale-out compute nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using Pacemaker. Below is an illustration of a two-node OpenStack configuration:Three-node OpenStack ConfigurationThe three-node configuration has a controller, compute and network node. Here we can easily scale-out compute or network nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using Pacemaker. In addition we could also setup active / passive configuration for network node to achieve HA and horizontal scaling depending on resource requirements. Below is an illustration of a three-node OpenStack configuration:Four-node OpenStack ConfigurationThe four-node configuration has a controller, compute, network and storage node. Here we can easily scale-out compute, network and storage nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using Pacemaker. In addition we could also setup active / passive configuration for network and storage nodes to achieve HA as well as horizontal scaling depending on resource requirements. Below is an illustration of a four-node OpenStack configuration:Three-node OpenStack InstallationBefore we start the installation we will need to provision three nodes running RHEL (Red Hat Enterprise Linux). The nodes can be bare-metal, containers or virtual machines. In my environment I created three virtual machines running RHEL 7 under RHEV 3.4 (Red Hat Enterprise Virtualization). If you are interested in how to setup RHEV you can get more information here. Below are the steps to deploy a three-node OpenStack installation using RHEL 7 and latest Red Hat OpenStack distribution:Steps to preform on each nodeInstall RHEL 7 and enable one NIC interface (eth0)Register subscription#subscription-manager registerList available subscriptions#subscription-manager list --availableAttach a specific subscription (the pool id is listed in above command)#subscription-manager attach --pool=8a85f9814a7ea2ec014a813b19433cc8Clear existing repositories and enable correct ones to grab latest Red Hat OpenStack distro#subscription-manager repos --disable=*#subscription-manager repos --enable=rhel-7-server-rpms#subscription-manager repos --enable=rhel-7-server-optional-rpms#subscription-manager repos --enable=rhel-7-server-openstack-5.0-rpmsor#subscription-manager repos --enable=rhel-7-server-openstack-6.0-rpmsInstall required packages#yum install -y yum-plugin-priorities yum-utils#yum-config-manager --setopt=”rhel-7-server-openstack-5.0-rpms.priority=1” --enable rhel-7-server-openstack-5.0-rpmsor#yum-config-manager --setopt=”rhel-7-server-openstack-6.0-rpms.priority=1” --enable rhel-7-server-openstack-6.0-rpms#yum update -y#yum install -y openstack-packstackSetup hostname#hostname ostack-ctr.openstack#vi /etc/hostnameostack-ctr.openstack#vi /etc/sysconfig/networkHOSTNAME=ostack-ctr.openstackGATEWAY=192.168.2.1Setup hosts file if DNS resolution is not configured#vi /etc/hosts127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4::1 localhost localhost.localdomain localhost6 localhost6.localdomain6192.168.2.205 ostack-ctr ostack-ctr.openstack192.168.2.206 ostack-cmp ostack-cmp.openstack192.168.2.207 ostack-net ostack-net.openstackConfigure eth0 network interface#vi /etc/sysconfig/network-scripts/ifcfg-eth0TYPE=EthernetBOOTPROTO=noneDEFROUTE=yesIPV4_FAILURE_FATAL=noIPV6INIT=noIPV6_AUTOCONF=yesIPV6_DEFROUTE=yesIPV6_PEERDNS=yesIPV6_PEERROUTES=yesIPV6_FAILURE_FATAL=noNAME=eth0UUID=6c53462f-f735-48c0-ae85-c0ec61a53688ONBOOT=yesHWADDR=00:1A:4A:DE:DB:CCIPADDR0=192.168.2.205PREFIX0=24GATEWAY0=192.168.2.1DNS1=192.168.2.1NM_CONTROLLED=noNote: ensure you set the MAC address (HWADDR) correctly. You can find the MAC address using the &quot;ip a&quot; command.Disable Network Manager#systemctl disable NetworkManagerreboot nodeSteps to perform on controller nodeGenerate the default answers file#packstack --gen-answer-file=/root/answer_file.txtUpdate the following in answers fileCONFIG_CONTROLLER_HOSTS=192.168.2.205CONFIG_COMPUTE_HOSTS=192.168.2.206CONFIG_NETWORK_HOSTS=192.168.2.207CONFIG_STORAGE_HOST=192.168.2.205CONFIG_HORIZON_SSL=yCONFIG_PROVISION_DEMO=nInstall OpenStack using packstack answers file#packstack --answer-file=/root/answer_file.txtNetwork Node ConfigurationIn order to connect a existing physical network, eth0 must be added as a port to the Open vSwitch br-ex bridge. The below steps should be preformed on the network node:Update network config for eth0#vi /etc/sysconfig/network-scripts/ifcfg-eth0DEVICE=eth0HWADDR=00:1A:4A:DE:DB:9CTYPE=OVSPortDEVICETYPE=ovsOVS_BRIDGE=br-exONBOOT=yesNote: ensure that the MAC address (HWADDR) is correctUpdate network config for br-ex#vi /etc/sysconfig/network-scripts/ifcfg-br-exDEVICE=br-exDEVICETYPE=ovsTYPE=OVSBridgeBOOTPROTO=staticIPADDR=192.168.2.207NETMASK=255.255.255.0GATEWAY=192.168.2.1DNS1=192.168.2.1ONBOOT=yesAdd eth0 to br-ex bridge and restart networking#ovs-vsctl add-port br-ex eth0 ; systemctl restart network.serviceVerify Open vSwitch configuration on network node (eth0 should be connected to br-ex)#ovs-vsctl show348cc676-f177-4ee3-a522-8f02aeb4dcd6 Bridge br-int    fail_mode: secure    Port br-int       Interface br-int          type: internal Bridge br-tun    Port patch-int       Interface patch-int          type: patch          options: {peer=patch-tun}    Port &quot;gre-1&quot;       Interface &quot;gre-1&quot;          type: gre          options: {in_key=flow, local_ip=&quot;192.168.2.207&quot;, out_key=flow, remote_ip=&quot;192.168.2.206&quot;}    Port br-tun       Interface br-tun          type: internal Bridge br-ex    Port &quot;eth0&quot;       Interface &quot;eth0&quot;    Port br-ex       Interface br-ex       type: internal ovs_version: &quot;2.1.3&quot;Networking ConfigurationPublic networks allow instances to connect to existing external networks. This is achieved by allocating floating IPs  from existing external networks that are shared across tenants. Private networks are tenant networks that provide complete isolation to all instances within a tenant.Create Private Network#neutron net-create private#neutron subnet-create private 10.0.0.0/24 --name private_subnetCreate Public Network#neutron net-create public --shared --router:external=True#neutron subnet-create public 192.168.2.0/24 --name public_subnet --enable_dhcp=False --allocation-pool start=192.168.2.220,end=192.168.2.240 --gateway=192.168.2.1Create Router#neutron router-create router1#neutron router-interface-add router1 private#neutron router-gateway-set router1 publicNote: make sure you source the /root/keystonerc_admin file otherwise neutron commands will not workOnce we have created the private and public networks we should see the below network topology. In addition we can connect instances to just the private network or both by allocating a floating IP.SummaryThis guide covered the very basics of multi-node OpenStack deployments and networking. From here hopefully you should be able to deploy your own OpenStack multi-node configurations using Red Hat RDO. I really recommend setting up multi-node environments, it is the best way to understand and learn how the different OpenStack projects interact with one another. In addition if you would like to do everything from scratch without RDO or another distro you can follow the complete manual guide here. I hope this guide has been interesting and useful. I always appreciate commends and feedback so please leave some.Happy Stacking!(c) 2015 Keith Tenzer">
    <meta itemprop="datePublished" content="2015-01-26T00:00:00-08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">OpenStack Multiple Node Configurations
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2015-01-26T00:00:00-08:00">January 26, 2015</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          14 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <h3>Node Types</h3>
<p>OpenStack can be deployed in a single-node or multi-node configuration. For the purpose of this post I am going to assume you understand OpenStack basics and have at least done a basic installation on a single-node using RDO or another installer. <!--more--> If not please refer to this <a href="http://keithtenzer.com/2014/12/05/creating-storage-services-in-openstack-on-netapp-part-i-of-iii/">post </a>which covers the basics. OpenStack is of course a culmination of loosely coupled projects that define services. A node is nothing more than a grouping of OpenStack services that run on bare-metal, in a container or virtual machine. The purpose of a node is to provide horizontal scaling and HA. There are four possible node types in OpenStack: controller, compute, network and storage.</p>
<h4>Controller Node</h4>
<p>The controller node is the control plane for the OpenStack environment. The control pane handles identity (<a href="https://wiki.openstack.org/wiki/Keystone">keystone</a>), dashboard (<a href="https://wiki.openstack.org/wiki/Horizon">Horizon</a>), telemetry (<a href="https://wiki.openstack.org/wiki/Ceilometer">ceilometer</a>), orchestration (<a href="https://wiki.openstack.org/wiki/Heat">heat</a>) and network server service (<a href="https://wiki.openstack.org/wiki/Neutron">neutron</a>).</p>
<h4>Compute Node</h4>
<p>The compute node runs a hypervisor (KVM, ESX, Hyper-V or XenServer). The compute node handles compute service (<a href="https://wiki.openstack.org/wiki/Nova">nova</a>), telemetry (<a href="https://wiki.openstack.org/wiki/Ceilometer">ceilometer</a>) and network Open vSwitch agent service (<a href="https://wiki.openstack.org/wiki/Neutron">neutron</a>).</p>
<h4>Network Node</h4>
<p>The network node runs networking services (<a href="https://wiki.openstack.org/wiki/Neutron">neutron</a>). It runs the neutron services for L3, metadata, DHCP and Open vSwitch. The network node handles all networking between other nodes as well as tenant networking and routing. It provides services such as DHCP and floating IPs that allow instances to connect to public networks. Neutron sits on top of <a href="http://openvswitch.org/">Open vSwitch</a> using either the ml2 or openvswitch plugin. Using Open vSwitch Neutron builds three network bridges: br-int, br-tun and br-ex. The br-int bridge connects all instances. The br-tun bridge connects instances to the physical NIC of the hypervisor. The br-ex bridge connects instances to external (public) networks using floating IPs. Both the br-tun and br-int bridges are visible on compute and network nodes. The br-ex bridge is only visible on network nodes.</p>
<h4>Storage Node</h4>
<p>The storage node runs storage services. It handles image service (<a href="https://wiki.openstack.org/wiki/Glance">glance</a>), block storage (<a href="https://wiki.openstack.org/wiki/Cinder">cinder</a>), object storage (<a href="https://wiki.openstack.org/wiki/Swift">swift</a>) and in the future shared file storage (<a href="https://wiki.openstack.org/wiki/Manila">manila</a>). Typically a storage node would run one type of storage service: object, block or file. Glance should run on nodes providing storage services for images (Cinder or Swift). Glance typically benefits from running on same node as its backing storage service. NetApp for example provides a storage backend that allows images to be cloned using the NetApp storage backend instead of the network.</p>
<h3>Multi-node Configurations</h3>
<p>While single-node configurations are acceptable for small environments, testing or POCs most production environments will require a multi-node configuration for various reasons. As mentioned multi-node configurations group similar OpenStack services and provide scalability as well as the possibility for high availability. One of the great things about OpenStack is the architecture. Every service is decoupled and all communication between services is done through RESTful API endpoints. This is the model architecture for cloud. The advantages are that we have tremendous flexibility in how to build a multi-node configuration. While a few standards have emerged there are many more possible variations and in the end we are not stuck to a rigid deployment model. The standards for deploying multi-node OpenStack are as a two-node, three-node or four-node configuration.</p>
<h4>Two-node OpenStack Configuration</h4>
<p>The two-node configuration has a controller and compute node. Here we can easily scale-out compute nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using <a href="http://clusterlabs.org/">Pacemaker</a>. Below is an illustration of a two-node OpenStack configuration:</p>
<p><a href="https://keithtenzer.files.wordpress.com/2015/01/openstack_multinode_2_architecture.jpg"><img class=" wp-image-546 aligncenter" src="/assets/2015/01/openstack_multinode_2_architecture.jpg?w=300" alt="openstack_multinode_2_architecture" width="692" height="397" /></a></p>
<h4>Three-node OpenStack Configuration</h4>
<p>The three-node configuration has a controller, compute and network node. Here we can easily scale-out compute or network nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using <a href="http://clusterlabs.org/">Pacemaker</a>. In addition we could also setup active / passive configuration for network node to achieve HA and horizontal scaling depending on resource requirements. Below is an illustration of a three-node OpenStack configuration:</p>
<p><a href="https://keithtenzer.files.wordpress.com/2015/01/openstack_multinode_3_architecture1.jpg"><img class=" wp-image-547 aligncenter" src="/assets/2015/01/openstack_multinode_3_architecture1.jpg?w=300" alt="openstack_multinode_3_architecture" width="678" height="389" /></a></p>
<h4>Four-node OpenStack Configuration</h4>
<p>The four-node configuration has a controller, compute, network and storage node. Here we can easily scale-out compute, network and storage nodes. Most likely we would run just one controller node or we could setup an active / passive HA configuration for the controller node using <a href="http://clusterlabs.org/">Pacemaker</a>. In addition we could also setup active / passive configuration for network and storage nodes to achieve HA as well as horizontal scaling depending on resource requirements. Below is an illustration of a four-node OpenStack configuration:</p>
<p><a href="https://keithtenzer.files.wordpress.com/2015/01/openstack_multinode_4_architecture.jpg"><img class=" wp-image-548 aligncenter" src="/assets/2015/01/openstack_multinode_4_architecture.jpg?w=300" alt="openstack_multinode_4_architecture" width="658" height="342" /></a></p>
<h3>Three-node OpenStack Installation</h3>
<p>Before we start the installation we will need to provision three nodes running RHEL (Red Hat Enterprise Linux). The nodes can be bare-metal, containers or virtual machines. In my environment I created three virtual machines running RHEL 7 under RHEV 3.4 (Red Hat Enterprise Virtualization). If you are interested in how to setup RHEV you can get more information <a href="http://keithtenzer.com/2015/01/05/red-hat-enterprise-virtualization-rhev-home-lab-configuration/">here</a>. Below are the steps to deploy a three-node OpenStack installation using RHEL 7 and latest Red Hat OpenStack distribution:</p>
<h4>Steps to preform on each node</h4>
<ul>
<li>Install RHEL 7 and enable one NIC interface (eth0)</li>
<li>Register subscription</li>
<li>
<pre>#subscription-manager register</pre>
</li>
</ul>
<ul>
<li>List available subscriptions</li>
<li>
<pre>#subscription-manager list --available</pre>
</li>
<li>Attach a specific subscription (the pool id is listed in above command)</li>
</ul>
<ul>
<li>
<pre>#subscription-manager attach --pool=8a85f9814a7ea2ec014a813b19433cc8</pre>
</li>
<li>Clear existing repositories and enable correct ones to grab latest Red Hat OpenStack distro</li>
</ul>
<ul>
<li>
<pre>#subscription-manager repos --disable=*</pre>
</li>
</ul>
<ul>
<li>
<pre>#subscription-manager repos --enable=rhel-7-server-rpms</pre>
</li>
<li>
<pre>#subscription-manager repos --enable=rhel-7-server-optional-rpms</pre>
</li>
<li>
<pre>#subscription-manager repos --enable=rhel-7-server-openstack-5.0-rpms</pre>
</li>
</ul>
<p>or</p>
<ul>
<li>
<pre>#<code>subscription-manager repos --enable=rhel-7-server-openstack-6.0-rpms</code></pre>
</li>
<li>Install required packages</li>
</ul>
<ul>
<li>
<pre>#yum install -y yum-plugin-priorities yum-utils</pre>
</li>
</ul>
<ul>
<li>
<pre>#yum-config-manager --setopt=”rhel-7-server-openstack-5.0-rpms.priority=1” --enable rhel-7-server-openstack-5.0-rpms</pre>
</li>
</ul>
<p>or</p>
<ul>
<li>
<pre>#<code>yum-config-manager --setopt=”rhel-7-server-openstack-6.0-rpms.priority=1” --enable rhel-7-server-openstack-6.0-rpms</code></pre>
</li>
<li>
<pre>#yum update -y</pre>
</li>
</ul>
<ul>
<li>
<pre>#yum install -y openstack-packstack</pre>
</li>
</ul>
<ul>
<li>Setup hostname</li>
</ul>
<ul>
<li>
<pre>#hostname ostack-ctr.openstack</pre>
</li>
</ul>
<ul>
<li>
<pre>#vi /etc/hostname</pre>
</li>
<li>
<pre>ostack-ctr.openstack</pre>
</li>
</ul>
<ul>
<li>
<pre>#vi /etc/sysconfig/network</pre>
</li>
</ul>
<ul>
<li>
<pre>HOSTNAME=ostack-ctr.openstack
GATEWAY=192.168.2.1</pre>
</li>
</ul>
<ul>
<li>Setup hosts file if DNS resolution is not configured</li>
</ul>
<ul>
<li>
<pre>#vi /etc/hosts</pre>
</li>
</ul>
<ul>
<li>
<pre>127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4
::1 localhost localhost.localdomain localhost6 localhost6.localdomain6
192.168.2.205 ostack-ctr ostack-ctr.openstack
192.168.2.206 ostack-cmp ostack-cmp.openstack
192.168.2.207 ostack-net ostack-net.openstack</pre>
</li>
<li>Configure eth0 network interface</li>
</ul>
<ul>
<li>
<pre>#vi /etc/sysconfig/network-scripts/ifcfg-eth0</pre>
</li>
</ul>
<ul>
<li>
<pre>TYPE=Ethernet
BOOTPROTO=none
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=no
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_PEERDNS=yes
IPV6_PEERROUTES=yes
IPV6_FAILURE_FATAL=no
NAME=eth0
UUID=6c53462f-f735-48c0-ae85-c0ec61a53688
ONBOOT=yes
HWADDR=00:1A:4A:DE:DB:CC
IPADDR0=192.168.2.205
PREFIX0=24
GATEWAY0=192.168.2.1
DNS1=192.168.2.1
NM_CONTROLLED=no</pre>
</li>
</ul>
<p>Note: ensure you set the MAC address (HWADDR) correctly. You can find the MAC address using the "ip a" command.</p>
<ul>
<li>Disable Network Manager</li>
</ul>
<ul>
<li>
<pre>#systemctl disable NetworkManager</pre>
</li>
<li>reboot node</li>
</ul>
<h4>Steps to perform on controller node</h4>
<ul>
<li>Generate the default answers file</li>
<li>
<pre><span style="font-family:Monaco, Consolas, 'Andale Mono', 'DejaVu Sans Mono', monospace;"><span style="font-size:14px;line-height:normal;">#packstack --gen-answer-file=/root/answer_file.txt</span></span></pre>
</li>
<li>Update the following in answers file</li>
</ul>
<ul>
<li>
<pre>CONFIG_CONTROLLER_HOSTS=192.168.2.205
CONFIG_COMPUTE_HOSTS=192.168.2.206
CONFIG_NETWORK_HOSTS=192.168.2.207
CONFIG_STORAGE_HOST=192.168.2.205
CONFIG_HORIZON_SSL=y
CONFIG_PROVISION_DEMO=n</pre>
</li>
<li>Install OpenStack using packstack answers file</li>
</ul>
<ul>
<li>
<pre><span style="font-family:Monaco, Consolas, 'Andale Mono', 'DejaVu Sans Mono', monospace;"><span style="font-size:14px;line-height:normal;">#packstack --answer-file=</span></span>/root/answer_file.txt</pre>
</li>
</ul>
<h3>Network Node Configuration</h3>
<p>In order to connect a existing physical network, eth0 must be added as a port to the Open vSwitch br-ex bridge. The below steps should be preformed on the network node:</p>
<ul>
<li>Update network config for eth0</li>
<li>
<pre>#vi /etc/sysconfig/network-scripts/ifcfg-eth0</pre>
<pre>DEVICE=eth0
HWADDR=00:1A:4A:DE:DB:9C
TYPE=OVSPort
DEVICETYPE=ovs
OVS_BRIDGE=br-ex
ONBOOT=yes</pre>
</li>
</ul>
<p>Note: ensure that the MAC address (HWADDR) is correct</p>
<ul>
<li>Update network config for br-ex</li>
<li>
<pre>#vi /etc/sysconfig/network-scripts/ifcfg-br-ex</pre>
</li>
</ul>
<ul>
<li>
<pre>DEVICE=br-ex
DEVICETYPE=ovs
TYPE=OVSBridge
BOOTPROTO=static
IPADDR=192.168.2.207
NETMASK=255.255.255.0
GATEWAY=192.168.2.1
DNS1=192.168.2.1
ONBOOT=yes</pre>
</li>
</ul>
<ul>
<li>Add eth0 to br-ex bridge and restart networking</li>
</ul>
<ul>
<li>
<pre>#ovs-vsctl add-port br-ex eth0 ; systemctl restart network.service</pre>
</li>
</ul>
<ul>
<li>Verify Open vSwitch configuration on network node (eth0 should be connected to br-ex)</li>
<li>
<pre>#ovs-vsctl show
348cc676-f177-4ee3-a522-8f02aeb4dcd6
 Bridge br-int
    fail_mode: secure
    Port br-int
       Interface br-int
          type: internal
 Bridge br-tun
    Port patch-int
       Interface patch-int
          type: patch
          options: {peer=patch-tun}
    Port "gre-1"
       Interface "gre-1"
          type: gre
          options: {in_key=flow, local_ip="192.168.2.207", out_key=flow, remote_ip="192.168.2.206"}
    Port br-tun
       Interface br-tun
          type: internal
 Bridge br-ex
    Port "eth0"
       Interface "eth0"
    Port br-ex
       Interface br-ex
       type: internal
 ovs_version: "2.1.3"</pre>
</li>
</ul>
<h3>Networking Configuration</h3>
<p>Public networks allow instances to connect to existing external networks. This is achieved by allocating floating IPs  from existing external networks that are shared across tenants. Private networks are tenant networks that provide complete isolation to all instances within a tenant.</p>
<h4>Create Private Network</h4>
<ul>
<li>
<pre>#neutron net-create private</pre>
</li>
</ul>
<ul>
<li>
<pre>#neutron subnet-create private 10.0.0.0/24 --name private_subnet</pre>
</li>
</ul>
<h4>Create Public Network</h4>
<ul>
<li>
<pre class="screen">#neutron net-create public --shared --router:external=True</pre>
</li>
</ul>
<ul>
<li>
<pre>#neutron subnet-create public 192.168.2.0/24 --name public_subnet --enable_dhcp=False --allocation-pool start=192.168.2.220,end=192.168.2.240 --gateway=192.168.2.1</pre>
</li>
</ul>
<h4>Create Router</h4>
<ul>
<li>
<pre>#neutron router-create router1</pre>
</li>
</ul>
<ul>
<li>
<pre>#neutron router-interface-add router1 private</pre>
</li>
</ul>
<ul>
<li>
<pre>#neutron router-gateway-set router1 public</pre>
</li>
</ul>
<p>Note: make sure you source the /root/keystonerc_admin file otherwise neutron commands will not work</p>
<p>Once we have created the private and public networks we should see the below network topology. In addition we can connect instances to just the private network or both by allocating a floating IP.</p>
<p><img class=" wp-image-321 aligncenter" src="/assets/2015/01/openstack_router.jpg?w=300" alt="openstack_router" width="714" height="395" /></p>
<h3>Summary</h3>
<p>This guide covered the very basics of multi-node OpenStack deployments and networking. From here hopefully you should be able to deploy your own OpenStack multi-node configurations using Red Hat RDO. I really recommend setting up multi-node environments, it is the best way to understand and learn how the different OpenStack projects interact with one another. In addition if you would like to do everything from scratch without RDO or another distro you can follow the complete manual guide <a href="http://docs.openstack.org/juno/install-guide/install/yum/content/">here</a>. I hope this guide has been interesting and useful. I always appreciate commends and feedback so please leave some.</p>
<p>Happy Stacking!</p>
<p>(c) 2015 Keith Tenzer</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#kvm" class="page__taxonomy-item" rel="tag">KVM</a><span class="sep">, </span>
    
      <a href="/tags/#linux" class="page__taxonomy-item" rel="tag">Linux</a><span class="sep">, </span>
    
      <a href="/tags/#openstack" class="page__taxonomy-item" rel="tag">OpenStack</a><span class="sep">, </span>
    
      <a href="/tags/#red-hat" class="page__taxonomy-item" rel="tag">Red Hat</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#openstack" class="page__taxonomy-item" rel="tag">OpenStack</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2015-01-26T00:00:00-08:00">January 26, 2015</time></p>


      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=keithtenzer&text=OpenStack+Multiple+Node+Configurations%20http%3A%2F%2Flocalhost%3A4000%2Fopenstack%2Fopenstack-multiple-node-configurations%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fopenstack%2Fopenstack-multiple-node-configurations%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fopenstack%2Fopenstack-multiple-node-configurations%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/cloudforms/red-hat-cloudforms-overview-and-setup/" class="pagination--pager" title="Red Hat CloudForms Overview and Setup
">Previous</a>
    
    
      <a href="/openstack/building-custom-dashboards-in-openstack-horizon/" class="pagination--pager" title="Building Custom Dashboards in OpenStack Horizon
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/temporal/replay-of-replay/" rel="permalink">Replay of Replay
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-08-29T00:00:00-07:00">August 29, 2022</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          30 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
Overview
Temporal just completed it’s inaugural user conference called Replay in Seattle. As such I wanted to do a quick replay of Replay. First, why Dinosa...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/temporal/temporal_getting_started_guide/" rel="permalink">Temporal Getting Started Guide
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-08-24T00:00:00-07:00">August 24, 2022</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
Overview
In this article we will walk through setup of a development environment for Temporal. There are of course, several ways you can run the Temporal se...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/temporal/my-first-day-at-temporal/" rel="permalink">My First Day at Temporal
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-08-15T00:00:00-07:00">August 15, 2022</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          9 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
Overview
Today is my first day at temporal and with that I wanted to share some thoughts around my decision, why Temporal and my experience thus far. As you...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/linux/blog-with-gitops-practices-and-github/" rel="permalink">Blog with Gitops Practices and GitHub
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-02-10T00:00:00-08:00">February 10, 2022</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          13 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Overview
Want to build your brand, while living the gitops revolution and not paying anything for it? That is exactly what this article will walk you through...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/keithtenzer"" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
      
        
          <li><a href="https://github.com/ktenzer" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Keith Tenzer. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
