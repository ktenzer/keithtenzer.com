<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
<link rel="icon" href="/assets/main/me.png">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Explaining OpenStack Cinder Types and Scheduler - Keith Tenzer’s Blog</title>
<meta name="description" content="Overview OpenStack Cinder is responsible for handling block storage in the context of OpenStack. Cinder provides a standard API and interface that allows storage companies to create their own drivers in order to integrate storage capabilities into OpenStack in a consistent way. Each storage pool exposed to OpenStack Cinder is a backend and you can have many storage backends. You can also have many of the same kind of storage backends. In this article we will look at two advanced features Cinder provides: types and the scheduler. Cinder types essentially allow us to label Cinder storage backends. This allows for building out storage services that have expected characteristics and capabilities. The Cinder driver exposes those storage capabilities to Cinder. The Cinder scheduler is responsible for deciding where to create Cinder volumes when we have more than one of the same kind of storage backend. This is done by looking at the filter rules in order to identify the most appropriate storage backend. More about filter rules can be found here.  Prerequisites In order to follow along you will need an OpenStack environment. The easiest thing to do is setup an all-in-one environment with RDO. Those steps are documented here. If you want to use Ceph and don&#39;t have an environment or things setup properly then you can follow below guides:  Ceph setup Ceph OpenStack configuration  Configure Storage Backends [OpenStack Controller] Add two disks to OpenStack controller.  For all-in-one setup this is straight-forward. If you have multiple controllers then it needs to be a controller running openstack-cinder-volume service. Create LVM Storage Backends. Authenticate to OpenStack using keystone source file. # source /root/keystonerc_admin Determine appropriate block device names for newly added disks. The below commands can be useful. In this case the two disks are vdb and vdc. # blkid # lsblk Create physical volumes and volume groups. # pvcreate /dev/vdb # vgcreate lvm-1 /dev/vdb # pvcreate /dev/vdc # vgcreate lvm-2 /dev/vdc Update Cinder configuration and add LVM backends. # vi /etc/cinder/cinder.conf default_volume_type = rbd enabled_backends = lvm1,lvm2,rbd">


  <meta name="author" content="Keith Tenzer">
  
  <meta property="article:author" content="Keith Tenzer">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Keith Tenzer's Blog">
<meta property="og:title" content="Explaining OpenStack Cinder Types and Scheduler">
<meta property="og:url" content="https://keithtenzer.com/openstack/explaining-openstack-cinder-types-and-scheduler/">


  <meta property="og:description" content="Overview OpenStack Cinder is responsible for handling block storage in the context of OpenStack. Cinder provides a standard API and interface that allows storage companies to create their own drivers in order to integrate storage capabilities into OpenStack in a consistent way. Each storage pool exposed to OpenStack Cinder is a backend and you can have many storage backends. You can also have many of the same kind of storage backends. In this article we will look at two advanced features Cinder provides: types and the scheduler. Cinder types essentially allow us to label Cinder storage backends. This allows for building out storage services that have expected characteristics and capabilities. The Cinder driver exposes those storage capabilities to Cinder. The Cinder scheduler is responsible for deciding where to create Cinder volumes when we have more than one of the same kind of storage backend. This is done by looking at the filter rules in order to identify the most appropriate storage backend. More about filter rules can be found here.  Prerequisites In order to follow along you will need an OpenStack environment. The easiest thing to do is setup an all-in-one environment with RDO. Those steps are documented here. If you want to use Ceph and don&#39;t have an environment or things setup properly then you can follow below guides:  Ceph setup Ceph OpenStack configuration  Configure Storage Backends [OpenStack Controller] Add two disks to OpenStack controller.  For all-in-one setup this is straight-forward. If you have multiple controllers then it needs to be a controller running openstack-cinder-volume service. Create LVM Storage Backends. Authenticate to OpenStack using keystone source file. # source /root/keystonerc_admin Determine appropriate block device names for newly added disks. The below commands can be useful. In this case the two disks are vdb and vdc. # blkid # lsblk Create physical volumes and volume groups. # pvcreate /dev/vdb # vgcreate lvm-1 /dev/vdb # pvcreate /dev/vdc # vgcreate lvm-2 /dev/vdc Update Cinder configuration and add LVM backends. # vi /etc/cinder/cinder.conf default_volume_type = rbd enabled_backends = lvm1,lvm2,rbd">





  <meta name="twitter:site" content="@keithtenzer">
  <meta name="twitter:title" content="Explaining OpenStack Cinder Types and Scheduler">
  <meta name="twitter:description" content="Overview OpenStack Cinder is responsible for handling block storage in the context of OpenStack. Cinder provides a standard API and interface that allows storage companies to create their own drivers in order to integrate storage capabilities into OpenStack in a consistent way. Each storage pool exposed to OpenStack Cinder is a backend and you can have many storage backends. You can also have many of the same kind of storage backends. In this article we will look at two advanced features Cinder provides: types and the scheduler. Cinder types essentially allow us to label Cinder storage backends. This allows for building out storage services that have expected characteristics and capabilities. The Cinder driver exposes those storage capabilities to Cinder. The Cinder scheduler is responsible for deciding where to create Cinder volumes when we have more than one of the same kind of storage backend. This is done by looking at the filter rules in order to identify the most appropriate storage backend. More about filter rules can be found here.  Prerequisites In order to follow along you will need an OpenStack environment. The easiest thing to do is setup an all-in-one environment with RDO. Those steps are documented here. If you want to use Ceph and don&#39;t have an environment or things setup properly then you can follow below guides:  Ceph setup Ceph OpenStack configuration  Configure Storage Backends [OpenStack Controller] Add two disks to OpenStack controller.  For all-in-one setup this is straight-forward. If you have multiple controllers then it needs to be a controller running openstack-cinder-volume service. Create LVM Storage Backends. Authenticate to OpenStack using keystone source file. # source /root/keystonerc_admin Determine appropriate block device names for newly added disks. The below commands can be useful. In this case the two disks are vdb and vdc. # blkid # lsblk Create physical volumes and volume groups. # pvcreate /dev/vdb # vgcreate lvm-1 /dev/vdb # pvcreate /dev/vdc # vgcreate lvm-2 /dev/vdc Update Cinder configuration and add LVM backends. # vi /etc/cinder/cinder.conf default_volume_type = rbd enabled_backends = lvm1,lvm2,rbd">
  <meta name="twitter:url" content="https://keithtenzer.com/openstack/explaining-openstack-cinder-types-and-scheduler/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2017-05-31T00:00:00-07:00">





  

  


<link rel="canonical" href="https://keithtenzer.com/openstack/explaining-openstack-cinder-types-and-scheduler/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Keith Tenzer",
      "url": "https://keithtenzer.com/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Keith Tenzer's Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Keith Tenzer's Blog
          <span class="site-subtitle">Cloud Computing and Code</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/index.html">About</a>
            </li><li class="masthead__menu-item">
              <a href="/conferences-and-events/index.html">Conferences and Events</a>
            </li><li class="masthead__menu-item">
              <a href="/videos/index.html">Videos</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://keithtenzer.com/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#openstack" itemprop="item"><span itemprop="name">Openstack</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Explaining OpenStack Cinder Types and Scheduler</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/main/me.png" alt="Keith Tenzer" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Keith Tenzer</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Principal Solutions Architect at Red Hat</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Los Angeles, CA</span>
        </li>
      

      
        
          
        
          
        
          
            <li><a href="https://twitter.com/keithtenzer" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
        
          
            <li><a href="https://github.com/ktenzer" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Explaining OpenStack Cinder Types and Scheduler">
    <meta itemprop="description" content="OverviewOpenStack Cinder is responsible for handling block storage in the context of OpenStack. Cinder provides a standard API and interface that allows storage companies to create their own drivers in order to integrate storage capabilities into OpenStack in a consistent way. Each storage pool exposed to OpenStack Cinder is a backend and you can have many storage backends. You can also have many of the same kind of storage backends. In this article we will look at two advanced features Cinder provides: types and the scheduler.Cinder types essentially allow us to label Cinder storage backends. This allows for building out storage services that have expected characteristics and capabilities. The Cinder driver exposes those storage capabilities to Cinder.The Cinder scheduler is responsible for deciding where to create Cinder volumes when we have more than one of the same kind of storage backend. This is done by looking at the filter rules in order to identify the most appropriate storage backend. More about filter rules can be found here.PrerequisitesIn order to follow along you will need an OpenStack environment. The easiest thing to do is setup an all-in-one environment with RDO. Those steps are documented here.If you want to use Ceph and don&#39;t have an environment or things setup properly then you can follow below guides:Ceph setupCeph OpenStack configurationConfigure Storage Backends[OpenStack Controller]Add two disks to OpenStack controller. For all-in-one setup this is straight-forward. If you have multiple controllers then it needs to be a controller running openstack-cinder-volume service.Create LVM Storage Backends.Authenticate to OpenStack using keystone source file.# source /root/keystonerc_adminDetermine appropriate block device names for newly added disks. The below commands can be useful. In this case the two disks are vdb and vdc.# blkid# lsblkCreate physical volumes and volume groups.# pvcreate /dev/vdb# vgcreate lvm-1 /dev/vdb# pvcreate /dev/vdc# vgcreate lvm-2 /dev/vdcUpdate Cinder configuration and add LVM backends.# vi /etc/cinder/cinder.confdefault_volume_type = rbdenabled_backends = lvm1,lvm2,rbd">
    <meta itemprop="datePublished" content="2017-05-31T00:00:00-07:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Explaining OpenStack Cinder Types and Scheduler
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2017-05-31T00:00:00-07:00">May 31, 2017</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          10 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <h2><img class="alignnone size-full wp-image-10161" src="/assets/2017/05/openstack-logo-2016.png" alt="openstack-logo-2016" width="770" height="211" /></h2>
<h2>Overview</h2>
<p>OpenStack Cinder is responsible for handling block storage in the context of OpenStack. Cinder provides a standard API and interface that allows storage companies to create their own drivers in order to integrate storage capabilities into OpenStack in a consistent way. Each storage pool exposed to OpenStack Cinder is a backend and you can have many storage backends. You can also have many of the same kind of storage backends. In this article we will look at two advanced features Cinder provides: types and the scheduler.</p>
<p>Cinder types essentially allow us to label Cinder storage backends. This allows for building out storage services that have expected characteristics and capabilities. The Cinder driver exposes those storage capabilities to Cinder.</p>
<p>The Cinder scheduler is responsible for deciding where to create Cinder volumes when we have more than one of the same kind of storage backend. This is done by looking at the filter rules in order to identify the most appropriate storage backend. More about filter rules can be found <a href="https://docs.openstack.org/developer/cinder/scheduler-filters.html">here</a>.</p>
<p><!--more--></p>
<h2>Prerequisites</h2>
<p>In order to follow along you will need an OpenStack environment. The easiest thing to do is setup an all-in-one environment with RDO. Those steps are documented <a href="https://keithtenzer.com/2017/03/27/openstack-10-newton-lab-installation-and-configuration-guide/">here</a>.</p>
<p>If you want to use Ceph and don't have an environment or things setup properly then you can follow below guides:</p>
<ul>
<li><a href="https://keithtenzer.com/2017/02/03/red-hat-ceph-storage-2-0-lab-object-storage-configuration-guide/">Ceph setup</a></li>
<li><a href="https://keithtenzer.com/2016/09/12/openstack-integrating-ceph-as-storage-backend/">Ceph OpenStack configuration</a></li>
</ul>
<h2>Configure Storage Backends</h2>
<p>[OpenStack Controller]</p>
<p><strong>Add two disks to OpenStack controller. </strong></p>
<p>For all-in-one setup this is straight-forward. If you have multiple controllers then it needs to be a controller running openstack-cinder-volume service.</p>
<p><strong>Create LVM Storage Backends.</strong></p>
<p>Authenticate to OpenStack using keystone source file.</p>
<pre># source /root/keystonerc_admin</pre>
<p>Determine appropriate block device names for newly added disks. The below commands can be useful. In this case the two disks are vdb and vdc.</p>
<pre># blkid
# lsblk</pre>
<p><strong>Create physical volumes and volume groups.</strong></p>
<pre># pvcreate /dev/vdb
# vgcreate lvm-1 /dev/vdb</pre>
<pre># pvcreate /dev/vdc
# vgcreate lvm-2 /dev/vdc</pre>
<p><strong>Update Cinder configuration and add LVM backends.</strong></p>
<pre># vi /etc/cinder/cinder.conf
default_volume_type = rbd
enabled_backends = lvm1,lvm2,rbd

[lvm1]
iscsi_helper=lioadm
iscsi_ip_address=192.168.122.80
volume_driver=cinder.volume.drivers.lvm.LVMVolumeDriver
volumes_dir=/var/lib/cinder/volumes
volume_backend_name=lvm
volume_group=lvm-1
<strong>filter_function = "volume.size &lt; 5"</strong>

[lvm2]
iscsi_helper=lioadm
iscsi_ip_address=172.16.7.50
volume_driver=cinder.volume.drivers.lvm.LVMVolumeDriver
volume_dir=/var/lib/cinder/volumes
volume_backend_name=lvm
volume_group=lvm-2
<strong>filter_function = "volume.size &gt;= 5"</strong></pre>
<p>Notice we also added filter rules. Since we have multiple lvm backends defined, filter rules will help scheduler decide what backend to use for provisioning Cinder volumes. In this case we have added a filter based on size. Cinder volumes smaller than 5GB will end up on backend lvm1 while Cinder volumes larger than 5GB will end up on backend lvm2.</p>
<p><strong>Restart Cinder Services.</strong></p>
<pre># systemctl restart openstack-cinder-api
# systemctl restart openstack-cinder-volume</pre>
<h2>Configure Cinder Types</h2>
<p>As mentioned Cinder types are used to create storage services and provide certain capabilities that are exposed by the driver. In this case we are simply labeling the backends however capabilities such as replication, backup and other things are also exposed via cinder types. This depends on the storage backend and the underlying storage capabilities.</p>
<p><strong>Create Cinder Types for backend lvm1.</strong></p>
<pre># openstack volume type create --public LVM1
 +---------------------------------+--------------------------------------+
 | Field | Value |
 +---------------------------------+--------------------------------------+
 | description | None |
 | id | 7ee9c132-3556-4294-80d5-a87dffaa8db4 |
 | is_public | True |
 | name | LVM |
 | os-volume-type-access:is_public | True |
 +---------------------------------+--------------------------------------+</pre>
<pre># openstack volume type set --property volume_backend_name=lvm1 LVM1</pre>
<p><strong>Create Cinder Types for backend lvm2.</strong></p>
<pre># openstack volume type create --public LVM2
+---------------------------------+--------------------------------------+
| Field | Value |
+---------------------------------+--------------------------------------+
| description | None |
| id | 7ee9c132-3556-4294-80d5-a87dffaa8db4 |
| is_public | True |
| name | LVM |
| os-volume-type-access:is_public | True |
+---------------------------------+--------------------------------------+</pre>
<pre># openstack volume type set --property volume_backend_name=lvm2 LVM2</pre>
<p><strong>List Cinder backends.</strong></p>
<pre># cinder get-pools
 +----------+------------------------+
 | Property | Value |
 +----------+------------------------+
 | name | osp10.lab.com@lvm2#lvm |
 +----------+------------------------+
 +----------+-----------------------+
 | Property | Value |
 +----------+-----------------------+
 | name | osp10.lab.com@lvm1#lvm |
 +----------+-----------------------+</pre>
<h2>Create Cinder Volumes</h2>
<p>Now that multiple lvm backends are configured, types exist and scheduler has filter rules, we can provision Cinder volumes.</p>
<p><strong>Create 3GB Cinder Volume.</strong></p>
<pre># openstack volume create --size 3 3gb-vol --type lvm
 +---------------------+--------------------------------------+
 | Field | Value |
 +---------------------+--------------------------------------+
 | attachments | [] |
 | availability_zone | nova |
 | bootable | false |
 | consistencygroup_id | None |
 | created_at | 2017-03-29T15:17:58.457813 |
 | description | None |
 | encrypted | False |
 | id | 4d764067-da2a-476c-8f64-a52203e2dfd7 |
 | migration_status | None |
 | multiattach | False |
 | name | 3gb-vol |
 | properties | |
 | replication_status | disabled |
 | size | 3 |
 | snapshot_id | None |
 | source_volid | None |
 | status | creating |
 | type | LVM |
 | updated_at | None |
 | user_id | 9d592f8a49654e8592de4e69fd15e603 |
 +---------------------+--------------------------------------+</pre>
<p><strong>Create 6GB Cinder Volume.</strong></p>
<pre># openstack volume create --size 6 6gb-vol --type lvm
 +---------------------+--------------------------------------+
 | Field | Value |
 +---------------------+--------------------------------------+
 | attachments | [] |
 | availability_zone | nova |
 | bootable | false |
 | consistencygroup_id | None |
 | created_at | 2017-03-29T15:18:21.086318 |
 | description | None |
 | encrypted | False |
 | id | 5a39b0c3-fb07-481e-a150-36c0eae1adc3 |
 | migration_status | None |
 | multiattach | False |
 | name | 6gb-vol |
 | properties | |
 | replication_status | disabled |
 | size | 6 |
 | snapshot_id | None |
 | source_volid | None |
 | status | creating |
 | type | LVM |
 | updated_at | None |
 | user_id | 9d592f8a49654e8592de4e69fd15e603 |
 +---------------------+--------------------------------------+</pre>
<p><strong>List Cinder Volumes.</strong></p>
<pre># openstack volume list
 +--------------------------------------+--------------+-----------+------+-------------+
 | ID | Display Name | Status | Size | Attached to |
 +--------------------------------------+--------------+-----------+------+-------------+
 | <strong>5a39b0c3-fb07-481e-a150-36c0eae1adc3</strong> | 6gb-vol | available | 6 | |
 | <strong>4d764067-da2a-476c-8f64-a52203e2dfd7</strong> | 3gb-vol | available | 3 | |
 +--------------------------------------+--------------+-----------+------+-------------+</pre>
<p><strong>Show Details on LVM volumes</strong></p>
<pre># lvs
 LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert
 volume-<strong>4d764067-da2a-476c-8f64-a52203e2dfd7</strong> lvm-1 -wi-a----- 3.00g
 volume-<strong>5a39b0c3-fb07-481e-a150-36c0eae1adc3</strong> lvm-2 -wi-a----- 6.00g
 root rhel -wi-ao---- 91.57g
 swap rhel -wi-ao---- 7.88g</pre>
<p>Using the Cinder volume id we can see that the scheduler properly placed the Cinder volumes according to the filter. In this case the 3GB volumes ended up on lvm-1 backend and the 6GB volume on lvm-2 backend.</p>
<h2>Summary</h2>
<p>In this article we explained how to build intelligent storage services using OpenStack Cinder. Using Cinder types we can define service levels and capabilities. Using the scheduler we can apply filters that apply intelligent decision making, in order to find the most appropriate storage backend. Finally we provided a basic example using two LVM backends and a filter based on volume size.</p>
<p>Happy OpenStacking!</p>
<p>(c) 2017 Keith Tenzer</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#cinder" class="page__taxonomy-item" rel="tag">Cinder</a><span class="sep">, </span>
    
      <a href="/tags/#kvm" class="page__taxonomy-item" rel="tag">KVM</a><span class="sep">, </span>
    
      <a href="/tags/#linux" class="page__taxonomy-item" rel="tag">Linux</a><span class="sep">, </span>
    
      <a href="/tags/#openstack" class="page__taxonomy-item" rel="tag">OpenStack</a><span class="sep">, </span>
    
      <a href="/tags/#storage" class="page__taxonomy-item" rel="tag">Storage</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#openstack" class="page__taxonomy-item" rel="tag">OpenStack</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-05-31T00:00:00-07:00">May 31, 2017</time></p>


      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=keithtenzer&text=Explaining+OpenStack+Cinder+Types+and+Scheduler%20https%3A%2F%2Fkeithtenzer.com%2Fopenstack%2Fexplaining-openstack-cinder-types-and-scheduler%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fkeithtenzer.com%2Fopenstack%2Fexplaining-openstack-cinder-types-and-scheduler%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fkeithtenzer.com%2Fopenstack%2Fexplaining-openstack-cinder-types-and-scheduler%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/cloudforms/cloudforms-installation-and-configuration-guide-for-red-hat-enterprise-virtualization/" class="pagination--pager" title="CloudForms Installation and Configuration Guide for Red Hat Virtualization
">Previous</a>
    
    
      <a href="/ansible/ansible-tower-and-satellite-end-to-end-automation-for-the-enterprise/" class="pagination--pager" title="Ansible Tower and Satellite: End to End Automation for the Enterprise
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/openshift/building-ansible-operators-1-2-3/" rel="permalink">Building Ansible Operators 1-2-3
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-12-03T00:00:00-08:00">December 3, 2021</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          9 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Overview
In this article we will go step by step in build a Kubernetes Operator using Ansible and the Operator Framework. Operators provide ability to not on...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/openshift/openshift-service-mesh-getting-started-guide/" rel="permalink">OpenShift Service Mesh Getting Started Guide
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-04-27T00:00:00-07:00">April 27, 2021</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          11 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">






Overview
In this article we will explore the OpenShift Service Mesh and deploy a demo application to better understand the various concepts. First you...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/openshift/openshift-4-aws-ipi-installation-getting-started-guide/" rel="permalink">OpenShift 4 AWS IPI Installation Getting Started Guide
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-01-18T00:00:00-08:00">January 18, 2021</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">


Happy new year as this will be the first post of 2021! 2020 was obviously a challenging year, my hope is I will have more time to devote to blogging in 20...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ansible/windows-automation-with-ansible-getting-started-guide/" rel="permalink">Windows Automation with Ansible: Getting Started Guide
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2020-05-19T00:00:00-07:00">May 19, 2020</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          14 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
Overview
In this article we will focus on how to get started with automation of windows using Ansible. Specifically we will look at installing 3rd party sof...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/keithtenzer"" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
      
        
          <li><a href="https://github.com/ktenzer" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Keith Tenzer. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
