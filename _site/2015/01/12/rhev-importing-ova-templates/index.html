<h3>Overview</h3>
<p>Virtual machine disk images are specific to hypervisors and each hypervisor has its own format. Open Virtual Format (OVF) is a packaging standard designed to address portability and deployment of virtual machines across different hypervisors. <!--more-->The OVF structure consists of a number files: descriptor, manifest, certificate and disk images or resource files such as ISOs. In order to make things even more streamlined and simpler for deploying virtual appliances an Open Virtual Applicance (OVA) standard was created. OVA is a single file distribution of an OVF package, stored in TAR format. In this post we will explore how to import OVAs into RHEV.</p>
<h3>Create Export Storage Domain</h3>
<p>An Export Storage Domain is an NFS share made available to RHEV environment for purpose of importing templates such as the OVA.</p>
<ul>
<li>Create an NFS share on an NFS server and export to all RHEV-H and RHEV-M hosts. A guide for how to do this on RHEL systems can be found <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/3/html/System_Administration_Guide/s1-nfs-export.html">here</a>.</li>
<li>Log on to the RHEV administrator portal and under system select the "storage" tab and "New Domain".</li>
</ul>
<p><a href="https://keithtenzer.files.wordpress.com/2015/01/rhevm_export_domain.jpg"><img class=" wp-image-425 aligncenter" src="/assets/2015/01/rhevm_export_domain.jpg?w=300" alt="RHEVM_EXPORT_DOMAIN" width="711" height="584" /></a></p>
<ul>
<li>After adding Export Storage Domain it should become available momentarily.</li>
</ul>
<p><a href="https://keithtenzer.files.wordpress.com/2015/01/rhevm_storage_domains.jpg"><img class="alignnone wp-image-426" src="/assets/2015/01/rhevm_storage_domains.jpg?w=300" alt="RHEVM_STORAGE_DOMAINS" width="717" height="87" /></a></p>
<h3>Uploading OVA to Export Storage Domain</h3>
<p>The OVA can be uploaded using the engine-image-uploader tool. If the tool is not present you can install it using the below command:</p>
<ul style="text-align:left;">
<li>
<pre>yum install rhevm-image-uploader</pre>
</li>
</ul>
<p>In order to upload OVA run the following command:</p>
<ul style="text-align:left;">
<li>
<pre>engine-image-uploader -e EXPORT_DOMAIN -N ATOMIC upload rhel-atomic-cloud-7.1-0.x86_64.rhevm.ova</pre>
</li>
</ul>
<h3> Importing OVA as template</h3>
<p>In order to create virtual machines from OVA we must first import that OVA as a template.</p>
<ul>
<li>Log on to RHEV administrator portal and under system select the "storage" tab.</li>
<li>Next select the EXPORT_DOMAIN and the "Template Import" tab.</li>
<li>Select the template (in this case CFME) and import.</li>
</ul>
<p><a href="https://keithtenzer.files.wordpress.com/2015/01/rhev_import_template1.jpg"><img class="alignnone wp-image-430" src="/assets/2015/01/rhev_import_template1.jpg?w=300" alt="RHEV_IMPORT_TEMPLATE" width="716" height="408" /></a></p>
<h3>Creating Virtual Machine from Template</h3>
<p>Now that we have the OVA template imported we can create a new virtual machine and simply select the template "CFME".</p>
<p><a href="https://keithtenzer.files.wordpress.com/2015/01/rhev_create_vm_from_template.jpg"><img class="alignnone wp-image-432" src="/assets/2015/01/rhev_create_vm_from_template.jpg?w=300" alt="RHEV_CREATE_VM_FROM_TEMPLATE" width="690" height="577" /></a></p>
<p>(c) 2015 Keith Tenzer</p>
